---
displayed_sidebar: docs
---

import BEConfigMethod from '../../_assets/commonMarkdown/BE_config_method.mdx'

import CNConfigMethod from '../../_assets/commonMarkdown/CN_config_method.mdx'

import PostBEConfig from '../../_assets/commonMarkdown/BE_dynamic_note.mdx'

import StaticBEConfigNote from '../../_assets/commonMarkdown/StaticBE_config_note.mdx'

# BE設定

<BEConfigMethod />

<CNConfigMethod />


## BE設定項目の表示

以下のコマンドを使用して、BEの設定項目を表示できます。

```shell
curl http://<BE_IP>:<BE_HTTP_PORT>/varz
```

## BEパラメーターの設定

<PostBEConfig />

<StaticBEConfigNote />

## BEパラメーターの理解

### ロギング

##### diagnose_stack_trace_interval_ms

- デフォルト: 1800000 (30分)
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: DiagnoseDaemonが`STACK_TRACE`リクエストに対して実行する連続したスタックトレース診断間の最小時間間隔を制御します。診断リクエストが到着すると、前回の収集から`diagnose_stack_trace_interval_ms`ミリ秒が経過していない場合、デーモンはスタックトレースの収集とロギングをスキップします。この値を増やすと、頻繁なスタックダンプによるCPUオーバーヘッドとログ量を削減できます。この値を減らすと、一時的な問題（例えば、長時間ブロックする`TabletsChannel::add_chunk`の負荷障害点シミュレーションなど）をデバッグするためにより頻繁なトレースをキャプチャできます。
- 導入バージョン: v3.5.0

##### lake_replication_slow_log_ms

- デフォルト: 30000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: Lakeのレプリケーション中にスローログエントリを出力するための閾値。各ファイルコピー後、コードは経過時間をマイクロ秒単位で測定し、経過時間が`lake_replication_slow_log_ms * 1000`以上の場合、操作をスローとマークします。トリガーされると、StarRocksはファイルサイズ、コスト、トレースメトリクスを含むINFOログをレプリケートされたファイルに対して書き込みます。大きな/遅い転送でノイズの多いスローログを減らすにはこの値を増やし、より小さな遅いコピーイベントをより早く検出して表面化するにはこの値を減らします。
- 導入バージョン: -

##### load_rpc_slow_log_frequency_threshold_seconds

- デフォルト: 60
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: 設定されたRPCタイムアウトを超えるロードRPCのスローログエントリがシステムによってどれくらいの頻度で出力されるかを制御します。スローログにはロードチャネルのランタイムプロファイルも含まれます。この値を0に設定すると、実際にはタイムアウトごとのロギングが行われます。
- 導入バージョン: v3.4.3, v3.5.0

##### log_buffer_level

- デフォルト: 空文字列
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: ログをフラッシュする戦略。デフォルト値は、ログがメモリにバッファリングされることを示します。有効な値は`-1`と`0`です。`-1`は、ログがメモリにバッファリングされないことを示します。
- 導入バージョン: -

##### pprof_profile_dir

- デフォルト: `${STARROCKS_HOME}/log`
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: StarRocksがpprofアーティファクト（Jemallocヒープスナップショットとgperftools CPUプロファイル）を書き込むディレクトリパス。
- 導入バージョン: v3.2.0

##### sys_log_dir

- デフォルト: `${STARROCKS_HOME}/log`
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: システムログ（INFO、WARNING、ERROR、FATALを含む）を格納するディレクトリ。
- 導入バージョン: -

##### sys_log_level

- デフォルト: INFO
- タイプ: String
- 単位: -
- 変更可能: はい (v3.3.0, v3.2.7, v3.1.12以降)
- 説明: システムログエントリが分類される重大度レベル。有効な値: INFO、WARN、ERROR、FATAL。この項目はv3.3.0、v3.2.7、v3.1.12以降、動的設定に変更されました。
- 導入バージョン: -

##### sys_log_roll_mode

- デフォルト: SIZE-MB-1024
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: システムログがログロールに分割されるモード。有効な値には`TIME-DAY`、`TIME-HOUR`、`SIZE-MB-`サイズが含まれます。デフォルト値は、ログがそれぞれ1 GBのロールに分割されることを示します。
- 導入バージョン: -

##### sys_log_roll_num

- デフォルト: 10
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: 予約するログロールの数。
- 導入バージョン: -

##### sys_log_timezone

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: ログプレフィックスにタイムゾーン情報を表示するかどうか。`true`はタイムゾーン情報を表示することを示し、`false`は表示しないことを示します。
- 導入バージョン: -

##### sys_log_verbose_level

- デフォルト: 10
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: 出力するログのレベル。この設定項目は、コード内のVLOGで開始されるログの出力を制御するために使用されます。
- 導入バージョン: -

##### sys_log_verbose_modules

- デフォルト:
- タイプ: Strings
- 単位: -
- 変更可能: いいえ
- 説明: 出力するログのモジュール。例えば、この設定項目をOLAPに設定すると、StarRocksはOLAPモジュールのログのみを出力します。有効な値は、`starrocks`、`starrocks::debug`、`starrocks::fs`、`starrocks::io`、`starrocks::lake`、`starrocks::pipeline`、`starrocks::query_cache`、`starrocks::stream`、`starrocks::workgroup`を含むBEの名前空間です。
- 導入バージョン: -

### サーバー

##### abort_on_large_memory_allocation

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 単一の割り当てリクエストが設定された大規模割り当て閾値（`g_large_memory_alloc_failure_threshold > 0`かつリクエストサイズが閾値を超える）を超えた場合、このフラグはプロセスの応答を制御します。trueの場合、このような大規模割り当てが検出されると、StarRocksは直ちに`std::abort()`を呼び出します（ハードクラッシュ）。falseの場合、割り当てはブロックされ、アロケータは失敗（nullptrまたはENOMEM）を返すため、呼び出し元はエラーを処理できます。このチェックは、TRY_CATCH_BAD_ALLOCパスでラップされていない割り当てにのみ適用されます（bad-allocが捕捉されている場合、メモリフックは異なるフローを使用します）。予期しない巨大な割り当てを高速にデバッグするために有効にしますが、過大な割り当て試行時に即座にプロセスを中止したい場合を除き、本番環境では無効にしておきます。
- 導入バージョン: v3.4.3, 3.5.0, 4.0.0

##### arrow_flight_port

- デフォルト: -1
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: BE Arrow Flight SQLサーバー用のTCPポート。`-1`はArrow Flightサービスを無効にすることを示します。macOS以外のビルドでは、BEは起動時にこのポートでArrow Flight SQL Serverを呼び出します。ポートが利用できない場合、サーバーの起動は失敗し、BEプロセスは終了します。設定されたポートは、ハートビートペイロードでFEに報告されます。
- 導入バージョン: v3.4.0, v3.5.0

##### be_exit_after_disk_write_hang_second

- デフォルト: 60
- タイプ: Int
- 単位: 秒
- 変更可能: いいえ
- 説明: ディスクがハングアップした後、BEが終了するまでの待機時間。
- 導入バージョン: -

##### be_http_num_workers

- デフォルト: 48
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: HTTPサーバーが使用するスレッド数。
- 導入バージョン: -

##### be_http_port

- デフォルト: 8040
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: BE HTTPサーバーのポート。
- 導入バージョン: -

##### be_port

- デフォルト: 9060
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: FEからのリクエストを受信するために使用されるBE Thriftサーバーのポート。
- 導入バージョン: -

##### be_service_threads

- デフォルト: 64
- タイプ: Int
- 単位: スレッド
- 変更可能: いいえ
- 説明: BE ThriftサーバーがバックエンドRPC/実行リクエストを処理するために使用するワーカー・スレッドの数。この値はBackendServiceの作成時にThriftServerに渡され、利用可能な同時リクエストハンドラーの数を制御します。すべてのワーカー・スレッドがビジーの場合、リクエストはキューに入れられます。予想される同時RPC負荷と利用可能なCPU/メモリに基づいて調整します。これを増やすと並行処理が増加しますが、スレッドごとのメモリとコンテキスト切り替えのコストも増加します。これを減らすと並行処理が制限され、リクエストのレイテンシが増加する可能性があります。
- 導入バージョン: v3.2.0

##### brpc_connection_type

- デフォルト: `"single"`
- タイプ: string
- 単位: -
- 変更可能: いいえ
- 説明: bRPCチャネルの接続モード。有効な値:
  - `"single"` (デフォルト): 各チャネルに1つの永続的なTCP接続。
  - `"pooled"`: より高い並行処理のための永続接続のプール（ソケット/ファイルディスクリプタのコストは増加）。
  - `"short"`: 永続的なリソース使用量を削減するが、レイテンシが高いRPCごとに作成される短寿命の接続。
  選択はソケットごとのバッファリング動作に影響し、未書き込みバイトがソケットの制限を超えた場合の`Socket.Write`エラー（EOVERCROWDED）に影響を与える可能性があります。
- 導入バージョン: v3.2.5

##### brpc_max_body_size

- デフォルト: 2147483648
- タイプ: Int
- 単位: バイト
- 変更可能: いいえ
- 説明: bRPCの最大ボディサイズ。
- 導入バージョン: -

##### brpc_max_connections_per_server

- デフォルト: 1
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: クライアントが各リモートサーバーエンドポイントに対して保持する永続的なbRPC接続の最大数。各エンドポイントに対して`BrpcStubCache`は`StubPool`を作成し、その`_stubs`ベクターはこのサイズに予約されます。最初のアクセスでは、制限に達するまで新しいスタブが作成されます。その後、既存のスタブがラウンドロビン方式で返されます。この値を増やすと、エンドポイントごとの並行処理が増加し（単一チャネルでの競合が減少）、ファイルディスクリプタ、メモリ、チャネルのコストが増加します。
- 導入バージョン: v3.2.0

##### brpc_num_threads

- デフォルト: -1
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: bRPCのbスレッドの数。値`-1`はCPUスレッドと同じ数であることを示します。
- 導入バージョン: -

##### brpc_port

- デフォルト: 8060
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: bRPCのネットワーク統計を表示するために使用されるBE bRPCポート。
- 導入バージョン: -

##### brpc_socket_max_unwritten_bytes

- デフォルト: 1073741824
- タイプ: Int
- 単位: バイト
- 変更可能: いいえ
- 説明: bRPCサーバーにおけるソケットあたりの未書き込み送信バイトの制限を設定します。ソケット上のバッファリングされた未書き込みデータの量がこの制限に達すると、以降の`Socket.Write`呼び出しはEOVERCROWDEDで失敗します。これにより、接続あたりのメモリの無限の増加を防ぎますが、非常に大きなメッセージや遅いピアの場合にRPC送信エラーが発生する可能性があります。この値を`brpc_max_body_size`に合わせて、単一メッセージのボディが許可される未書き込みバッファよりも大きくならないようにしてください。値を増やすと、接続あたりのメモリ使用量が増加します。
- 導入バージョン: v3.2.0

##### brpc_stub_expire_s

- デフォルト: 3600
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: bRPCスタブキャッシュの有効期限。デフォルト値は60分です。
- 導入バージョン: -

##### compress_rowbatches

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: BE間のRPCでロウバッチを圧縮するかどうかを制御するブール値。`true`はロウバッチを圧縮することを示し、`false`は圧縮しないことを示します。
- 導入バージョン: -

##### consistency_max_memory_limit_percent

- デフォルト: 20
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: 一貫性関連タスクのメモリ予算を計算するために使用されるパーセンテージキャップ。BEの起動中、最終的な一貫性制限は、`consistency_max_memory_limit`（バイト）から解析された値と（`process_mem_limit * consistency_max_memory_limit_percent / 100`）の最小値として計算されます。`process_mem_limit`が設定されていない場合（-1）、一貫性メモリは無制限と見なされます。`consistency_max_memory_limit_percent`の場合、0未満または100を超える値は100として扱われます。この値を調整すると、一貫性操作のために予約されるメモリが増減し、クエリやその他のサービスで利用可能なメモリに影響します。
- 導入バージョン: v3.2.0

##### delete_worker_count_normal_priority

- デフォルト: 2
- タイプ: Int
- 単位: スレッド
- 変更可能: いいえ
- 説明: BEエージェント上で削除（DELETEを含むREALTIME_PUSH）タスクを処理するために割り当てられた通常優先度ワーカー・スレッドの数。起動時、この値は`delete_worker_count_high_priority`に追加され、`DeleteTaskWorkerPool`のサイズが決定されます（agent_server.cppを参照）。プールは最初の`delete_worker_count_high_priority`スレッドをHIGH優先度として割り当て、残りをNORMAL優先度として割り当てます。通常優先度スレッドは標準の削除タスクを処理し、全体的な削除スループットに貢献します。並行削除容量を増やすにはこの値を増やし（CPU/IO使用量が増加）、リソース競合を減らすにはこの値を減らします。
- 導入バージョン: v3.2.0

##### disable_mem_pools

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: MemPoolを無効にするかどうか。この項目が`true`に設定されている場合、MemPoolのチャンクプーリングは無効になり、各割り当ては再利用またはプールされたチャンクを増やすのではなく、独自のサイズのチャンクを取得します。プーリングを無効にすると、より頻繁な割り当て、チャンク数の増加、およびスキップされる整合性チェック（チャンク数が多いため回避される）のコストで、長期間保持されるバッファメモリが削減されます。割り当ての再利用とシステム呼び出しの削減の恩恵を受けるために、`disable_mem_pools`は`false`（デフォルト）のままにしてください。大規模なプールされたメモリの保持を避けたい場合（例えば、低メモリ環境や診断実行など）にのみ`true`に設定してください。
- 導入バージョン: v3.2.0

##### enable_https

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: この項目が`true`に設定されている場合、BEのbRPCサーバーはTLSを使用するように構成されます。BEの起動時に、`ServerOptions.ssl_options`には`ssl_certificate_path`と`ssl_private_key_path`で指定された証明書と秘密鍵が設定されます。これにより、受信bRPC接続に対してHTTPS/TLSが有効になります。クライアントはTLSを使用して接続する必要があります。証明書と鍵ファイルが存在し、BEプロセスからアクセス可能であり、bRPC/SSLの要件を満たしていることを確認してください。
- 導入バージョン: v4.0.0

##### enable_jemalloc_memory_tracker

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: この項目が`true`に設定されている場合、BEはバックグラウンドスレッド（jemalloc_tracker_daemon）を開始し、jemalloc統計を（1秒ごとに）ポーリングし、GlobalEnv jemallocメタデータMemTrackerをjemallocの"stats.metadata"値で更新します。これにより、jemallocメタデータ消費がStarRocksプロセスメモリアカウンティングに含まれ、jemalloc内部で使用されるメモリの過少報告が防止されます。トラッカーはmacOS以外のビルドでのみコンパイル/開始され（#ifndef __APPLE__）、"jemalloc_tracker_daemon"という名前のデーモンスレッドとして実行されます。この設定は起動動作とMemTrackerの状態を維持するスレッドに影響するため、変更には再起動が必要です。jemallocが使用されていない場合、またはjemallocトラッキングが意図的に異なる方法で管理されている場合にのみ無効にしてください。それ以外の場合は、正確なメモリアカウンティングと割り当て保護を維持するために有効にしておいてください。
- 導入バージョン: v3.2.12

##### enable_jvm_metrics

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: 起動時にJVM固有のメトリクスを初期化および登録するかどうかを制御します。有効にすると、メトリクスサブシステムはJVM関連のコレクタ（例：ヒープ、GC、スレッドメトリクス）をエクスポート用に作成し、無効にすると、それらのコレクタは初期化されません。このパラメータは将来の互換性のために意図されており、将来のリリースで削除される可能性があります。システムレベルのメトリクス収集を制御するには、`enable_system_metrics`を使用してください。
- 導入バージョン: v4.0.0

##### get_pindex_worker_count

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: `UpdateManager`の"get_pindex"スレッドプール（プライマリキーテーブルのロウセット適用時に使用される永続インデックスデータをロード/フェッチするために使用される）のワーカー・スレッド数を設定します。実行時には、設定の更新によってプールの最大スレッドが調整されます。`>0`の場合、その値が適用されます。`0`の場合、ランタイムコールバックはCPUコア数（`CpuInfo::num_cores()`）を使用します。初期化時には、プールの最大スレッドは`max(get_pindex_worker_count, max_apply_thread_cnt * 2)`として計算されます（ここで`max_apply_thread_cnt`は適用スレッドプールの最大値）。pindexロードの並列処理を増やすにはこの値を増やし、並列処理とメモリ/CPU使用量を減らすにはこの値を減らします。
- 導入バージョン: v3.2.0

##### heartbeat_service_port

- デフォルト: 9050
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: FEからのハートビートを受信するために使用されるBEハートビートサービスのポート。
- 導入バージョン: -

##### heartbeat_service_thread_count

- デフォルト: 1
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: BEハートビートサービスのスレッド数。
- 導入バージョン: -

##### local_library_dir

- デフォルト: `${UDF_RUNTIME_DIR}`
- タイプ: string
- 単位: -
- 変更可能: いいえ
- 説明: UDF（ユーザー定義関数）ライブラリがステージングされ、Python UDFワーカープロセスが動作するBE上のローカルディレクトリ。StarRocksはHDFSからこのパスにUDFライブラリをコピーし、`<local_library_dir>/pyworker_<pid>`にワーカーごとのUnixドメインソケットを作成し、exec前にPythonワーカープロセスをこのディレクトリに変更します。ディレクトリは存在し、BEプロセスから書き込み可能で、Unixドメインソケット（つまりローカルファイルシステム）をサポートするファイルシステム上に存在する必要があります。この設定は実行時に変更できないため、起動前に設定し、各BEで適切な権限とディスク容量を確保してください。
- 導入バージョン: v3.2.0

##### max_transmit_batched_bytes

- デフォルト: 262144
- タイプ: Int
- 単位: バイト
- 変更可能: いいえ
- 説明: ネットワークにフラッシュされるまでに単一の送信リクエストで蓄積されるシリアル化バイトの最大数。送信者実装は、シリアル化されたChunkPBペイロードをPTransmitChunkParamsリクエストに追加し、蓄積されたバイトが`max_transmit_batched_bytes`を超えるか、EOSに達した場合にリクエストを送信します。この値を増やすと、RPCの頻度が減り、スループットが向上しますが、リクエストごとのレイテンシとメモリ使用量が増加します。この値を減らすと、レイテンシとメモリが減少しますが、RPCレートが増加します。
- 導入バージョン: v3.2.0

##### mem_limit

- デフォルト: 90%
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: BEプロセスメモリの上限。パーセンテージ（"80%"）または物理的な制限（"100G"）として設定できます。デフォルトのハードリミットはサーバーメモリサイズの90%で、ソフトリミットは80%です。同じサーバーにStarRocksを他のメモリを大量に消費するサービスと一緒にデプロイする場合は、このパラメータを設定する必要があります。
- 導入バージョン: -

##### memory_max_alignment

- デフォルト: 16
- タイプ: Int
- 単位: バイト
- 変更可能: いいえ
- 説明: MemPoolが整列割り当てに対して受け入れる最大バイトアラインメントを設定します。この値は、呼び出し元がより大きなアラインメントを必要とする場合（SIMD、デバイスバッファ、またはABI制約のため）にのみ増やしてください。値が大きいと、割り当てごとのパディングと予約メモリの無駄が増加し、システムアロケータとプラットフォームがサポートする範囲内に維持する必要があります。
- 導入バージョン: v3.2.0

##### memory_urgent_level

- デフォルト: 85
- タイプ: long
- 単位: パーセンテージ (0-100)
- 変更可能: はい
- 説明: プロセスメモリ制限のパーセンテージとして表される緊急メモリウォーターレベル。プロセスメモリ消費が`(limit * memory_urgent_level / 100)`を超えると、BEは即座のメモリ再利用をトリガーし、データキャッシュの縮小、更新キャッシュの退去、永続/Lake MemTableの「フル」扱いを強制して、すぐにフラッシュ/圧縮されるようにします。コードは、この設定が`memory_high_level`よりも大きく、`memory_high_level`が`1`以上`100`以下であることを検証します。値が低いほど、より積極的な早期再利用、つまりより頻繁なキャッシュ退去とフラッシュが発生します。値が高いほど再利用が遅れ、100に近づきすぎるとOOMのリスクがあります。この項目は`memory_high_level`とデータキャッシュ関連の自動調整設定と合わせて調整してください。
- 導入バージョン: v3.2.0

##### net_use_ipv6_when_priority_networks_empty

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: `priority_networks`が指定されていない場合にIPv6アドレスを優先的に使用するかどうかを制御するブール値。`true`は、ノードをホストするサーバーがIPv4とIPv6の両方のアドレスを持ち、`priority_networks`が指定されていない場合に、システムがIPv6アドレスを優先的に使用することを許可することを示します。
- 導入バージョン: v3.3.0

##### num_cores

- デフォルト: 0
- タイプ: Int
- 単位: コア
- 変更可能: いいえ
- 説明: CPU認識決定（例えば、スレッドプールのサイズ設定やランタイムスケジューリング）のためにシステムが使用するCPUコア数を制御します。値が0の場合、自動検出が有効になります。システムは`/proc/cpuinfo`を読み取り、利用可能なすべてのコアを使用します。正の整数に設定された場合、その値が検出されたコア数をオーバーライドし、実効コア数になります。コンテナ内で実行されている場合、cgroupのcpusetまたはcpuクォータ設定が使用可能なコアをさらに制限することがあります。`CpuInfo`もこれらのcgroup制限を尊重します。
- 導入バージョン: v3.2.0

##### plugin_path

- デフォルト: `${STARROCKS_HOME}/plugin`
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: StarRocksが外部プラグイン（ダイナミックライブラリ、コネクタアーティファクト、UDFバイナリなど）をロードするファイルシステムディレクトリ。`plugin_path`は、BEプロセスがアクセス可能（読み取りおよび実行権限）で、プラグインがロードされる前に存在しているディレクトリを指す必要があります。正しい所有権と、プラグインファイルがプラットフォームのネイティブバイナリ拡張子（例えばLinuxでは.so）を使用していることを確認してください。
- 導入バージョン: v3.2.0

##### priority_networks

- デフォルト: 空文字列
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: 複数のIPアドレスを持つサーバーの選択戦略を宣言します。最大で1つのIPアドレスがこのパラメーターで指定されたリストと一致する必要があることに注意してください。このパラメーターの値は、CIDR表記でセミコロン(;)で区切られたエントリのリストです。例えば、`10.10.10.0/24`。このリストのエントリと一致するIPアドレスがない場合、サーバーの利用可能なIPアドレスがランダムに選択されます。v3.3.0以降、StarRocksはIPv6ベースのデプロイメントをサポートしています。サーバーがIPv4とIPv6の両方のアドレスを持ち、このパラメーターが指定されていない場合、システムはデフォルトでIPv4アドレスを使用します。`net_use_ipv6_when_priority_networks_empty`を`true`に設定することで、この動作を変更できます。
- 導入バージョン: -

##### rpc_compress_ratio_threshold

- デフォルト: 1.1
- タイプ: Double
- 単位: -
- 変更可能: はい
- 説明: シリアル化されたロウバッチを圧縮形式でネットワーク経由で送信するかどうかを決定する際に使用される閾値（`非圧縮サイズ / 圧縮サイズ`）。圧縮が試行される場合（例：DataStreamSender、exchange sink、tablet sink index channel、dictionary cache writer）、StarRocksは`compress_ratio = 非圧縮サイズ / 圧縮サイズ`を計算します。`compress_ratio > rpc_compress_ratio_threshold`の場合にのみ圧縮ペイロードを使用します。デフォルトの1.1では、圧縮データが非圧縮データよりも少なくとも約9.1%小さくなければ使用されません。圧縮を優先するには（より小さい帯域幅節約のためにCPUを多く使用）、値を減らしてください。より大きなサイズ削減が得られない限り圧縮オーバーヘッドを避けるには、値を増やしてください。注：これはRPC/シャッフルシリアル化に適用され、ロウバッチ圧縮が有効な場合にのみ有効です（`compress_rowbatches`）。
- 導入バージョン: v3.2.0

##### ssl_private_key_path

- デフォルト: 空文字列
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: BEのbRPCサーバーがデフォルト証明書の秘密鍵として使用するTLS/SSL秘密鍵（PEM）へのファイルシステムパス。`enable_https`が`true`に設定されている場合、プロセス開始時にこの値が`brpc::ServerOptions::ssl_options().default_cert.private_key`にコピーされます。`ssl_certificate_path`で提供される証明書と一致する秘密鍵も設定する必要があります。この値が設定されていないか、ファイルが見つからないかアクセスできない場合、HTTPSは設定されず、bRPCサーバーが起動に失敗する可能性があります。このファイルは、制限的なファイルシステム権限（例：600）で保護してください。
- 導入バージョン: v4.0.0

##### thrift_client_retry_interval_ms

- デフォルト: 100
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: Thriftクライアントが再試行する時間間隔。
- 導入バージョン: -

##### thrift_connect_timeout_seconds

- デフォルト: 3
- タイプ: Int
- 単位: 秒
- 変更可能: いいえ
- 説明: Thriftクライアント作成時に使用される接続タイムアウト（秒単位）。`ClientCacheHelper::_create_client`はこの値を1000倍し、`ThriftClientImpl::set_conn_timeout()`に渡すため、BEクライアントキャッシュによって開かれる新しいThrift接続のTCP/接続ハンドシェイクタイムアウトを制御します。この設定は接続確立のみに影響し、送受信タイムアウトは別途設定されます。非常に小さい値は、高レイテンシネットワークで誤った接続失敗を引き起こす可能性があり、大きい値は到達不能なピアの検出を遅らせます。
- 導入バージョン: v3.2.0

##### thrift_port

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: 内部ThriftベースのBackendServiceをエクスポートするために使用されるポート。プロセスがCompute Nodeとして実行され、この項目が0以外の値に設定されている場合、`be_port`をオーバーライドし、Thriftサーバーはこの値にバインドされます。それ以外の場合は`be_port`が使用されます。この設定は非推奨です。0以外の`thrift_port`を設定すると、`be_port`を使用するよう警告ログが出力されます。
- 導入バージョン: v3.2.0

##### thrift_rpc_connection_max_valid_time_ms

- デフォルト: 5000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: いいえ
- 説明: Thrift RPC接続の最大有効時間。この値よりも長く接続プールに存在した接続は閉じられます。FEの設定`thrift_client_timeout_ms`と一致させる必要があります。
- 導入バージョン: -

##### thrift_rpc_max_body_size

- デフォルト: 0
- タイプ: Int
- 単位:
- 変更可能: いいえ
- 説明: RPCの最大文字列ボディサイズ。`0`はサイズが無制限であることを示します。
- 導入バージョン: -

##### thrift_rpc_strict_mode

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: Thriftの厳格な実行モードが有効になっているかどうか。Thrift厳格モードの詳細については、[Thrift Binary protocol encoding](https://github.com/apache/thrift/blob/master/doc/specs/thrift-binary-protocol.md)を参照してください。
- 導入バージョン: -

##### thrift_rpc_timeout_ms

- デフォルト: 5000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: Thrift RPCのタイムアウト。
- 導入バージョン: -

##### transaction_apply_thread_pool_num_min

- デフォルト: 0
- タイプ: Int
- 単位: スレッド
- 変更可能: はい
- 説明: BEのUpdateManager内の"update_apply"スレッドプール（プライマリキーテーブルのロウセットを適用するために使用されるプール）の最小スレッド数を設定します。0の値は固定の最小値が無効であることを示します（強制的な下限なし）。`transaction_apply_worker_count`も0の場合、プールの最大スレッドはCPUコア数にデフォルト設定されるため、実効ワーカー容量はCPUコア数に等しくなります。これを増やすと、トランザクション適用に対する基本の並行処理を保証できます。高すぎるとCPUの競合が増加する可能性があります。変更はHTTPハンドラー`update_config`を介して実行時に適用されます（適用スレッドプールで`update_min_threads`が呼び出されます）。
- 導入バージョン: v3.2.11

##### transaction_publish_version_thread_pool_num_min

- デフォルト: 0
- タイプ: Int
- 単位: スレッド
- 変更可能: はい
- 説明: AgentServerの"publish_version"動的スレッドプール（トランザクションバージョンをパブリッシュする/`TTaskType::PUBLISH_VERSION`タスクを処理するために使用される）に予約される最小スレッド数を設定します。起動時、プールは`min = max(設定値, MIN_TRANSACTION_PUBLISH_WORKER_COUNT)`（`MIN_TRANSACTION_PUBLISH_WORKER_COUNT = 1`）で作成されるため、デフォルトの0は最小1スレッドになります。実行時にこの値を変更すると、更新コールバックが`ThreadPool::update_min_threads`を呼び出し、プールの保証された最小値を増減します（ただし、強制される最小値1を下回ることはありません）。`transaction_publish_version_worker_count`（最大スレッド数）および`transaction_publish_version_thread_pool_idle_time_ms`（アイドルタイムアウト）と連携して調整してください。
- 導入バージョン: v3.2.11

##### use_mmap_allocate_chunk

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: この項目が`true`に設定されている場合、システムは匿名プライベートmmapマッピング（MAP_ANONYMOUS | MAP_PRIVATE）を使用してチャンクを割り当て、munmapでそれらを解放します。これを有効にすると、多数の仮想メモリマッピングが作成される可能性があるため、カーネル制限を上げる必要があります（rootユーザーとして`sysctl -w vm.max_map_count=262144`または`echo 262144 > /proc/sys/vm/max_map_count`を実行）。また、`chunk_reserved_bytes_limit`を比較的高く設定する必要があります。そうしないと、mmapを有効にすると、頻繁なマッピング/アンマッピングによりパフォーマンスが非常に低下する可能性があります。
- 導入バージョン: v3.2.0

### メタデータおよびクラスター管理

##### cluster_id

- デフォルト: -1
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: このStarRocksバックエンドのグローバルクラスター識別子。起動時、StorageEngineは`config::cluster_id`をその実効クラスターIDに読み込み、すべてのデータルートパスが同じクラスターIDを含んでいることを検証します（`StorageEngine::_check_all_root_path_cluster_id`を参照）。-1の値は「未設定」を意味します。エンジンは既存のデータディレクトリまたはマスターハートビートから実効IDを導出する場合があります。負でないIDが設定されている場合、設定されたIDとデータディレクトリに格納されているIDとの間に不一致があると、起動検証は失敗します（Status::Corruption）。一部のルートにIDがなく、エンジンがIDの書き込みを許可されている場合（options.need_write_cluster_id）、実効IDをそれらのルートに永続化します。
- 導入バージョン: v3.2.0

##### consistency_max_memory_limit

- デフォルト: 10G
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: CONSISTENCYメモリトラッカーのメモリサイズ指定。
- 導入バージョン: v3.2.0

##### make_snapshot_rpc_timeout_ms

- デフォルト: 20000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: いいえ
- 説明: リモートBEでスナップショットを作成する際に使用されるThrift RPCタイムアウトをミリ秒単位で設定します。リモートスナップショットの作成がデフォルトのタイムアウトを定期的に超える場合はこの値を増やし、応答しないBEでより早く失敗するにはこの値を減らします。他のタイムアウトがエンドツーエンドの操作に影響を与える可能性があることに注意してください（例えば、実効タブレットライターオープンタイムアウトは`tablet_writer_open_rpc_timeout_sec`や`load_timeout_sec`に関連する場合があります）。
- 導入バージョン: v3.2.0

##### metadata_cache_memory_limit_percent

- デフォルト: 30
- タイプ: Int
- 単位: パーセント
- 変更可能: はい
- 説明: メタデータLRUキャッシュサイズをプロセスメモリ制限のパーセンテージとして設定します。起動時、StarRocksはキャッシュバイトを（`process_mem_limit * metadata_cache_memory_limit_percent / 100`）として計算し、それをメタデータキャッシュアロケータに渡します。キャッシュは非PRIMARY_KEYSのロウセット（PKテーブルはサポートされていません）にのみ使用され、`metadata_cache_memory_limit_percent > 0`の場合にのみ有効になります。メタデータキャッシュを無効にするには`<= 0`に設定してください。この値を増やすとメタデータキャッシュ容量が増加しますが、他のコンポーネントで利用可能なメモリが減少します。ワークロードとシステムメモリに基づいて調整してください。BE_TESTビルドではアクティブではありません。
- 導入バージョン: v3.2.10

##### retry_apply_interval_second

- デフォルト: 30
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: 失敗したタブレット適用操作の再試行をスケジュールする際に使用される基本間隔（秒単位）。これは、送信失敗後に再試行をスケジュールするために直接使用され、バックオフの基本乗数としても使用されます。次の再試行遅延は`min(600, retry_apply_interval_second * 失敗回数)`として計算されます。コードはまた、累積再試行期間（等差数列の合計）を計算するために`retry_apply_interval_second`を使用し、それを`retry_apply_timeout_second`と比較して再試行を継続するかどうかを決定します。`enable_retry_apply`がtrueの場合にのみ有効です。この値を増やすと、個々の再試行遅延と累積再試行時間が長くなります。減らすと、再試行頻度が高くなり、`retry_apply_timeout_second`に達するまでの試行回数が増加する可能性があります。
- 導入バージョン: v3.2.9

##### retry_apply_timeout_second

- デフォルト: 7200
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: 適用プロセスが諦めてタブレットがエラー状態に入るまでの、保留中のバージョンを適用するために許可される累積再試行時間の最大値（秒単位）。適用ロジックは、`retry_apply_interval_second`に基づいて指数関数的な/バックオフ間隔を累積し、合計期間を`retry_apply_timeout_second`と比較します。`enable_retry_apply`がtrueで、エラーが再試行可能と見なされる場合、累積バックオフが`retry_apply_timeout_second`を超えるまで適用試行は再スケジュールされます。その後、適用は停止し、タブレットはエラーに移行します。明示的に再試行できないエラー（例えば、Corruption）は、この設定に関わらず再試行されません。StarRocksが適用操作を再試行し続ける期間を制御するためにこの値を調整します（デフォルト7200秒 = 2時間）。
- 導入バージョン: v3.3.13, v3.4.3, v3.5.0

##### txn_commit_rpc_timeout_ms

- デフォルト: 60000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: BEのストリームロードおよびトランザクションコミット呼び出しで使用されるThrift RPC接続の最大許容存続時間（ミリ秒）。StarRocksはこの値をFEに送信されるリクエストの`thrift_rpc_timeout_ms`として設定します（stream_load計画、loadTxnBegin/loadTxnPrepare/loadTxnCommit、getLoadTxnStatusで使用）。接続がこの値よりも長くプールされている場合、閉じられます。リクエストごとのタイムアウト（`ctx->timeout_second`）が提供される場合、BEはRPCタイムアウトを`rpc_timeout_ms = max(ctx*1000/4, min(ctx*1000/2, txn_commit_rpc_timeout_ms))`として計算するため、実効RPCタイムアウトはコンテキストとこの設定によって制限されます。不一致のタイムアウトを避けるために、これをFEの`thrift_client_timeout_ms`と一致させてください。
- 導入バージョン: v3.2.0

##### txn_map_shard_size

- デフォルト: 128
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: トランザクションマネージャーがトランザクションロックをパーティション化し、競合を減らすために使用するロックマップシャードの数。その値は2の累乗（2^n）であるべきです。これを増やすと、並行処理が増加し、ロックの競合が減少しますが、追加のメモリとわずかな簿記のオーバーヘッドが発生します。予想される同時トランザクションと利用可能なメモリに合わせてシャード数を選択してください。
- 導入バージョン: v3.2.0

##### txn_shard_size

- デフォルト: 1024
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: トランザクションマネージャーが使用するロックシャードの数を制御します。この値はtxnロックのシャードサイズを決定します。これは2の累乗でなければなりません。これを大きな値に設定すると、ロックの競合が減少し、同時COMMIT/PUBLISHのスループットが向上しますが、追加のメモリとよりきめ細かい内部の簿記のコストがかかります。
- 導入バージョン: v3.2.0

##### update_schema_worker_count

- デフォルト: 3
- タイプ: Int
- 単位: スレッド
- 変更可能: いいえ
- 説明: バックエンドの"update_schema"動的ThreadPoolで`TTaskType::UPDATE_SCHEMA`タスクを処理するワーカー・スレッドの最大数を設定します。ThreadPoolは起動時にagent_server内で最小0スレッド（アイドル時にゼロにスケールダウン可能）とこの設定に等しい最大値で作成されます。プールはデフォルトのアイドルタイムアウトと実質的に無制限のキューを使用します。この値を増やすと、より多くの同時スキーマ更新タスクを許可し（CPUとメモリ使用量が増加）、減らすと並行スキーマ操作を制限します。
- 導入バージョン: v3.2.3

##### update_tablet_meta_info_worker_count

- デフォルト: 1
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: タブレットメタデータ更新タスクを処理するバックエンドスレッドプールの最大ワーカー・スレッド数を設定します。スレッドプールはバックエンドの起動中に、最小0スレッド（アイドル時にゼロにスケールダウン可能）とこの設定に等しい最大値（最低1に制限される）で作成されます。実行時にこの値を更新すると、プールの最大スレッドが調整されます。同時メタデータ更新タスクを増やすにはこの値を増やし、並行処理を制限するにはこの値を減らします。
- 導入バージョン: v4.1.0, v4.0.6, v3.5.13

### ユーザー、ロール、権限

##### ssl_certificate_path

- デフォルト:
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: `enable_https`がtrueの場合にBEのbRPCサーバーが使用するTLS/SSL証明書ファイル（PEM）への絶対パス。BEの起動時に、この値は`brpc::ServerOptions::ssl_options().default_cert.certificate`にコピーされます。一致する秘密鍵も`ssl_private_key_path`に設定する必要があります。CAが必要とする場合は、PEM形式のサーバー証明書と中間証明書（証明書チェーン）を提供してください。ファイルはStarRocks BEプロセスから読み取り可能である必要があり、起動時にのみ適用されます。`enable_https`が有効な状態で設定されていないか無効な場合、bRPC TLSセットアップが失敗し、サーバーが正しく起動できない可能性があります。
- 導入バージョン: v4.0.0

### クエリエンジン

##### clear_udf_cache_when_start

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: 有効になっている場合、BEのUserFunctionCacheは起動時にローカルにキャッシュされているすべてのユーザー関数ライブラリをクリアします。`UserFunctionCache::init`中に、コードは`_reset_cache_dir()`を呼び出し、設定されたUDFライブラリディレクトリ（`kLibShardNum`サブディレクトリに整理されている）からUDFファイルを削除し、Java/Python UDFのサフィックス（.jar/.py）を持つファイルを削除します。無効になっている場合（デフォルト）、BEは既存のキャッシュされたUDFファイルを削除せずにロードします。これを有効にすると、再起動後の最初の使用時にUDFバイナリが再ダウンロードされることになります（ネットワークトラフィックと最初の使用時のレイテンシが増加します）。
- 導入バージョン: v4.0.0

##### dictionary_speculate_min_chunk_size

- デフォルト: 10000
- タイプ: Int
- 単位: 行
- 変更可能: いいえ
- 説明: StringColumnWriterとDictColumnWriterが辞書エンコーディングの推測をトリガーするために使用する最小行数（チャンクサイズ）。受信列（または累積バッファと受信行）のサイズが`dictionary_speculate_min_chunk_size`以上の場合、ライターは直ちに推測を実行し、より多くの行をバッファリングするのではなく、エンコーディング（DICT、PLAIN、またはBIT_SHUFFLE）を設定します。推測は、文字列列には`dictionary_encoding_ratio`を、数値/非文字列列には`dictionary_encoding_ratio_for_non_string_column`を使用して、辞書エンコーディングが有益かどうかを決定します。また、大きな列の`byte_size`（UINT32_MAX以上）は、`BinaryColumn<uint32_t>`のオーバーフローを避けるために即座の推測を強制します。
- 導入バージョン: v3.2.0

##### disable_storage_page_cache

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: PageCacheを無効にするかどうかを制御するブール値。
  - PageCacheが有効な場合、StarRocksは最近スキャンされたデータをキャッシュします。
  - 同様のクエリが頻繁に繰り返される場合、PageCacheはクエリパフォーマンスを大幅に向上させることができます。
  - `true`はPageCacheを無効にすることを示します。
  - この項目のデフォルト値は、StarRocks v2.4以降`true`から`false`に変更されました。
- 導入バージョン: -

##### enable_bitmap_index_memory_page_cache

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: Bitmapインデックスのメモリキャッシュを有効にするかどうか。ポイントクエリを高速化するためにBitmapインデックスを使用する場合は、メモリキャッシュを推奨します。
- 導入バージョン: v3.1

##### enable_compaction_flat_json

- デフォルト: True
- タイプ: Boolean
- 単位:
- 変更可能: はい
- 説明: Flat JSONデータのコンパクションを有効にするかどうか。
- 導入バージョン: v3.3.3

##### enable_json_flat

- デフォルト: false
- タイプ: Boolean
- 単位:
- 変更可能: はい
- 説明: Flat JSON機能を有効にするかどうか。この機能を有効にすると、新しくロードされたJSONデータは自動的にフラット化され、JSONクエリのパフォーマンスが向上します。
- 導入バージョン: v3.3.0

##### enable_lazy_dynamic_flat_json

- デフォルト: True
- タイプ: Boolean
- 単位:
- 変更可能: はい
- 説明: 読み取りプロセスでFlat JSONスキーマが見つからない場合に、Lazy Dyamic Flat JSONを有効にするかどうか。この項目が`true`に設定されている場合、StarRocksはFlat JSON操作を読み取りプロセスではなく計算プロセスに延期します。
- 導入バージョン: v3.3.3

##### enable_ordinal_index_memory_page_cache

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 順序インデックスのメモリキャッシュを有効にするかどうか。順序インデックスは行IDからデータページ位置へのマッピングであり、スキャンを高速化するために使用できます。
- 導入バージョン: -

##### enable_string_prefix_zonemap

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: プレフィックスベースのmin/maxを使用して文字列（CHAR/VARCHAR）列のZoneMapを有効にするかどうか。非キー文字列列の場合、min/max値は`string_prefix_zonemap_prefix_len`で設定された固定プレフィックス長に切り詰められます。
- 導入バージョン: -

##### enable_zonemap_index_memory_page_cache

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: ZoneMapインデックスのメモリキャッシュを有効にするかどうか。ZoneMapインデックスを使用してスキャンを高速化する場合は、メモリキャッシュを推奨します。
- 導入バージョン: -

##### exchg_node_buffer_size_bytes

- デフォルト: 10485760
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: 各クエリの交換ノードのレシーバー側の最大バッファサイズ。この設定項目はソフトリミットです。データが過剰な速度でレシーバー側に送信されると、バックプレッシャがトリガーされます。
- 導入バージョン: -

##### file_descriptor_cache_capacity

- デフォルト: 16384
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: キャッシュできるファイルディスクリプタの数。
- 導入バージョン: -

##### flamegraph_tool_dir

- デフォルト: `${STARROCKS_HOME}/bin/flamegraph`
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: フレームグラフツールが格納されているディレクトリ。プロファイルデータからフレームグラフを生成するためのpprof、stackcollapse-go.pl、flamegraph.plスクリプトが含まれている必要があります。
- 導入バージョン: -

##### fragment_pool_queue_size

- デフォルト: 2048
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: 各BEノードで処理できるクエリ数の上限。
- 導入バージョン: -

##### fragment_pool_thread_num_max

- デフォルト: 4096
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: クエリに使用される最大スレッド数。
- 導入バージョン: -

##### fragment_pool_thread_num_min

- デフォルト: 64
- タイプ: Int
- 単位: 分 -
- 変更可能: いいえ
- 説明: クエリに使用される最小スレッド数。
- 導入バージョン: -

##### hdfs_client_enable_hedged_read

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: ヘッジドリード機能を有効にするかどうかを指定します。
- 導入バージョン: v3.0

##### hdfs_client_hedged_read_threadpool_size

- デフォルト: 128
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: HDFSクライアントのヘッジドリードスレッドプールのサイズを指定します。スレッドプールのサイズは、HDFSクライアントでヘッジドリードの実行に専念するスレッドの数を制限します。HDFSクラスターの**hdfs-site.xml**ファイル内の`dfs.client.hedged.read.threadpool.size`パラメーターと同等です。
- 導入バージョン: v3.0

##### hdfs_client_hedged_read_threshold_millis

- デフォルト: 2500
- タイプ: Int
- 単位: ミリ秒
- 変更可能: いいえ
- 説明: ヘッジドリードを開始するまでの待機ミリ秒数を指定します。たとえば、このパラメーターを`30`に設定した場合、ブロックからの読み取りが30ミリ秒以内に返されない場合、HDFSクライアントは直ちに異なるブロックレプリカに対して新しい読み取りを開始します。HDFSクラスターの**hdfs-site.xml**ファイル内の`dfs.client.hedged.read.threshold.millis`パラメーターと同等です。
- 導入バージョン: v3.0

##### io_coalesce_adaptive_lazy_active

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 述語の選択性に基づいて、述語列と非述語列のI/Oを結合するかどうかを適応的に決定します。
- 導入バージョン: v3.2

##### jit_lru_cache_size

- デフォルト: 0
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: JITコンパイルのためのLRUキャッシュサイズ。0より大きい値に設定されている場合、キャッシュの実際のサイズを表します。0以下に設定されている場合、システムは`jit_lru_cache_size = min(mem_limit*0.01, 1GB)`の式を使用してキャッシュを適応的に設定します（ただし、ノードの`mem_limit`は16 GB以上である必要があります）。
- 導入バージョン: -

##### json_flat_column_max

- デフォルト: 100
- タイプ: Int
- 単位:
- 変更可能: はい
- 説明: Flat JSONで抽出できるサブフィールドの最大数。このパラメーターは、`enable_json_flat`が`true`に設定されている場合にのみ有効になります。
- 導入バージョン: v3.3.0

##### json_flat_create_zonemap

- デフォルト: true
- タイプ: Boolean
- 単位:
- 変更可能: はい
- 説明: 書き込み時にフラット化されたJSONサブカラムのZoneMapを作成するかどうか。このパラメーターは、`enable_json_flat`が`true`に設定されている場合にのみ有効になります。
- 導入バージョン: -

##### json_flat_null_factor

- デフォルト: 0.3
- タイプ: Double
- 単位:
- 変更可能: はい
- 説明: Flat JSONで抽出するカラム内のNULL値の割合。NULL値の割合がこの閾値より高い場合、カラムは抽出されません。このパラメーターは、`enable_json_flat`が`true`に設定されている場合にのみ有効になります。
- 導入バージョン: v3.3.0

##### json_flat_sparsity_factor

- デフォルト: 0.3
- タイプ: Double
- 単位:
- 変更可能: はい
- 説明: Flat JSONの同名カラムの割合。同名カラムの割合がこの値よりも低い場合、抽出は実行されません。このパラメーターは、`enable_json_flat`が`true`に設定されている場合にのみ有効になります。
- 導入バージョン: v3.3.0

##### lake_tablet_ignore_invalid_delete_predicate

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: カラム名変更後に重複キーテーブルに対する論理削除によって導入された、タブレットロウセットメタデータ内の無効な削除述語を無視するかどうかを制御するブール値。
- 導入バージョン: v4.0

##### late_materialization_ratio

- デフォルト: 10
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: SegmentIterator（ベクタークエリエンジン）での遅延具現化の使用を制御する[0-1000]の範囲の整数比率。`0`（または`<= 0`）の値は遅延具現化を無効にし、`1000`（または`>= 1000`）はすべての読み取りで遅延具現化を強制します。`> 0`かつ`< 1000`の値は、述語フィルター比率に基づいてイテレータが動作を選択する条件付き戦略を有効にします（値が高いほど遅延具現化を優先）。セグメントに複雑なメトリックタイプが含まれている場合、StarRocksは代わりに`metric_late_materialization_ratio`を使用します。`lake_io_opts.cache_file_only`が設定されている場合、遅延具現化は無効になります。
- 導入バージョン: v3.2.0

##### max_hdfs_file_handle

- デフォルト: 1000
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 開くことができるHDFSファイルディスクリプタの最大数。
- 導入バージョン: -

##### max_memory_sink_batch_count

- デフォルト: 20
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: Scan Cacheバッチの最大数。
- 導入バージョン: -

##### max_pushdown_conditions_per_column

- デフォルト: 1024
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 各カラムでプッシュダウンを許可する条件の最大数。条件数がこの制限を超えると、述語はストレージ層にプッシュダウンされません。
- 導入バージョン: -

##### max_scan_key_num

- デフォルト: 1024
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 各クエリによってセグメント化されるスキャンキーの最大数。
- 導入バージョン: -

##### metric_late_materialization_ratio

- デフォルト: 1000
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: 複雑なメトリックカラムを含む読み取りに対して遅延具現化行アクセス戦略がいつ使用されるかを制御します。有効範囲: [0-1000]。`0`は遅延具現化を無効にし、`1000`はすべての適用可能な読み取りで遅延具現化を強制します。1-999の値は、述語/選択性に基づいて実行時に遅延具現化コンテキストと早期具現化コンテキストの両方が準備され、選択される条件付き戦略を有効にします。複雑なメトリックタイプが存在する場合、`metric_late_materialization_ratio`は一般的な`late_materialization_ratio`をオーバーライドします。注意: `cache_file_only` I/Oモードでは、この設定に関わらず遅延具現化が無効になります。
- 導入バージョン: v3.2.0

##### min_file_descriptor_number

- デフォルト: 60000
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: BEプロセス内のファイルディスクリプタの最小数。
- 導入バージョン: -

##### object_storage_connect_timeout_ms

- デフォルト: -1
- タイプ: Int
- 単位: ミリ秒
- 変更可能: いいえ
- 説明: オブジェクトストレージとのソケット接続を確立するためのタイムアウト期間。`-1`はSDK設定のデフォルトタイムアウト期間を使用することを示します。
- 導入バージョン: v3.0.9

##### object_storage_request_timeout_ms

- デフォルト: -1
- タイプ: Int
- 単位: ミリ秒
- 変更可能: いいえ
- 説明: オブジェクトストレージとのHTTP接続を確立するためのタイムアウト期間。`-1`はSDK設定のデフォルトタイムアウト期間を使用することを示します。
- 導入バージョン: v3.0.9

##### parquet_late_materialization_enable

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: パフォーマンス向上のためにParquetリーダーの遅延具現化を有効にするかどうかを制御するブール値。`true`は遅延具現化を有効にすることを示し、`false`は無効にすることを示します。
- 導入バージョン: -

##### parquet_page_index_enable

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: パフォーマンス向上のためにParquetファイルのページインデックスを有効にするかどうかを制御するブール値。`true`はページインデックスを有効にすることを示し、`false`は無効にすることを示します。
- 導入バージョン: v3.3

##### parquet_reader_bloom_filter_enable

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: Parquetファイルのブルームフィルターを有効にしてパフォーマンスを向上させるかどうかを制御するブール値。`true`はブルームフィルターを有効にすることを示し、`false`は無効にすることを示します。セッションレベルでシステム変数`enable_parquet_reader_bloom_filter`を使用してこの動作を制御することもできます。Parquetのブルームフィルターは**各ロウグループ内のカラムレベルで**管理されます。Parquetファイルに特定のカラムのブルームフィルターが含まれている場合、クエリはそれらのカラムに対する述語を使用してロウグループを効率的にスキップできます。
- 導入バージョン: v3.5

##### path_gc_check_step

- デフォルト: 1000
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 毎回連続してスキャンできるファイルの最大数。
- 導入バージョン: -

##### path_gc_check_step_interval_ms

- デフォルト: 10
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: ファイルスキャン間の時間間隔。
- 導入バージョン: -

##### path_scan_interval_second

- デフォルト: 86400
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: GCが期限切れデータをクリーンアップする時間間隔。
- 導入バージョン: -

##### pipeline_connector_scan_thread_num_per_cpu

- デフォルト: 8
- タイプ: Double
- 単位: -
- 変更可能: はい
- 説明: BEノードのPipeline ConnectorにCPUコアごとに割り当てられるスキャンスレッド数。この設定はv3.1.7以降動的に変更可能になりました。
- 導入バージョン: -

##### pipeline_poller_timeout_guard_ms

- デフォルト: -1
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: この項目が`0`より大きい値に設定されている場合、ポーラーでドライバーが単一のディスパッチに`pipeline_poller_timeout_guard_ms`より長い時間がかかった場合、ドライバーとオペレーターの情報が出力されます。
- 導入バージョン: -

##### pipeline_prepare_thread_pool_queue_size

- デフォルト: 102400
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: Pipeline実行エンジンのPREPAREフラグメントスレッドプールの最大キュー長。
- 導入バージョン: -

##### pipeline_prepare_thread_pool_thread_num

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: パイプライン実行エンジンPREPAREフラグメントスレッドプールのスレッド数。`0`はシステムVCPUコア数に等しいことを示します。
- 導入バージョン: -

##### pipeline_prepare_timeout_guard_ms

- デフォルト: -1
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: この項目が`0`より大きい値に設定されている場合、PREPAREプロセス中に計画フラグメントが`pipeline_prepare_timeout_guard_ms`を超えた場合、計画フラグメントのスタックトレースが出力されます。
- 導入バージョン: -

##### pipeline_scan_thread_pool_queue_size

- デフォルト: 102400
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: Pipeline実行エンジンのSCANスレッドプールの最大タスクキュー長。
- 導入バージョン: -

##### pk_index_parallel_get_threadpool_size

- デフォルト: 1048576
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 共有データ（クラウドネイティブ/Lake）モードでのPKインデックス並列取得操作で使用される"cloud_native_pk_index_get"スレッドプールの最大キューサイズ（保留中のタスク数）を設定します。このプールの実際のスレッド数は`pk_index_parallel_get_threadpool_max_threads`によって制御されます。この設定は、実行を待機しているタスクがキューにいくつまで入るかを制限するだけです。非常に大きいデフォルト値（2^20）は、キューを実質的に無制限にします。これを減らすと、キューに入れられたタスクによる過剰なメモリ増加を防ぎますが、キューがいっぱいになったときにタスクの送信がブロックまたは失敗する可能性があります。ワークロードの並行処理とメモリ制約に基づいて`pk_index_parallel_get_threadpool_max_threads`とともに調整してください。
- 導入バージョン: -

##### priority_queue_remaining_tasks_increased_frequency

- デフォルト: 512
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: `BlockingPriorityQueue`が飢餓状態を避けるために、残りのすべてのタスクの優先度を「経過時間に基づいて」（age）どのくらいの頻度で増加させるかを制御します。get/popが成功するたびに内部の`_upgrade_counter`が増加します。`_upgrade_counter`が`priority_queue_remaining_tasks_increased_frequency`を超えると、キューはすべての要素の優先度を増加させ、ヒープを再構築し、カウンターをリセットします。値が低いほど優先度エイジングが頻繁に行われ（飢餓を減らすが、反復と再ヒープ化によるCPUコストが増加）、値が高いほどオーバーヘッドが減少しますが、優先度調整が遅延します。この値は単純な操作カウント閾値であり、時間期間ではありません。
- 導入バージョン: v3.2.0

##### query_cache_capacity

- デフォルト: 536870912
- タイプ: Int
- 単位: バイト
- 変更可能: いいえ
- 説明: BE内のクエリキャッシュのサイズ。デフォルトサイズは512 MBです。サイズは4 MB未満であってはなりません。BEのメモリ容量が予想されるクエリキャッシュサイズをプロビジョニングするのに不十分な場合、BEのメモリ容量を増やすことができます。
- 導入バージョン: -

##### query_pool_spill_mem_limit_threshold

- デフォルト: 1.0
- タイプ: Double
- 単位: -
- 変更可能: いいえ
- 説明: 自動スピルが有効な場合、すべてのクエリのメモリ使用量が`query_pool memory limit * query_pool_spill_mem_limit_threshold`を超えると、中間結果のスピルがトリガーされます。
- 導入バージョン: v3.2.7

##### query_scratch_dirs

- デフォルト: `${STARROCKS_HOME}`
- タイプ: string
- 単位: -
- 変更可能: いいえ
- 説明: クエリ実行が中間データ（例えば、外部ソート、ハッシュ結合、その他の演算子）をスピルするために使用する書き込み可能なスクラッチディレクトリのコンマ区切りリスト。セミコロン（`;`）で区切って1つ以上のパスを指定します（例：`/mnt/ssd1/tmp;/mnt/ssd2/tmp`）。ディレクトリはBEプロセスからアクセス可能で書き込み可能であり、十分な空き容量が必要です。StarRocksは、スピルI/Oを分散するためにそれらのうちから選択します。変更は有効になるために再起動が必要です。ディレクトリが存在しない、書き込み可能でない、または満杯の場合、スピルが失敗したり、クエリパフォーマンスが低下したりする可能性があります。
- 導入バージョン: v3.2.0

##### result_buffer_cancelled_interval_time

- デフォルト: 300
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: BufferControlBlockがデータを解放するまでの待機時間。
- 導入バージョン: -

##### scan_context_gc_interval_min

- デフォルト: 5
- タイプ: Int
- 単位: 分
- 変更可能: はい
- 説明: スキャンコンテキストをクリーンアップする時間間隔。
- 導入バージョン: -

##### scanner_row_num

- デフォルト: 16384
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 各スキャンスレッドが1回のスキャンで返す最大行数。
- 導入バージョン: -

##### scanner_thread_pool_queue_size

- デフォルト: 102400
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: ストレージエンジンがサポートするスキャンタスクの数。
- 導入バージョン: -

##### scanner_thread_pool_thread_num

- デフォルト: 48
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: ストレージエンジンが並行ストレージボリュームスキャンに使用するスレッド数。すべてのスレッドはスレッドプールで管理されます。
- 導入バージョン: -

##### string_prefix_zonemap_prefix_len

- デフォルト: 16
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: `enable_string_prefix_zonemap`が有効な場合、文字列ZoneMapのmin/maxに使用されるプレフィックス長。
- 導入バージョン: -

##### udf_thread_pool_size

- デフォルト: 1
- タイプ: Int
- 単位: スレッド
- 変更可能: いいえ
- 説明: ExecEnvで作成されるUDF呼び出し`PriorityThreadPool`のサイズを設定します（ユーザー定義関数/UDF関連タスクの実行に使用されます）。この値は、スレッドプールの作成時（`PriorityThreadPool("udf", thread_num, queue_size)`）にプールのスレッド数およびプールキュー容量として使用されます。同時UDF実行を増やすにはこの値を増やし、過剰なCPUとメモリの競合を避けるにはこの値を小さく保ってください。
- 導入バージョン: v3.2.0

##### update_memory_limit_percent

- デフォルト: 60
- タイプ: Int
- 単位: パーセント
- 変更可能: いいえ
- 説明: BEプロセスメモリのうち、更新関連メモリおよびキャッシュのために予約される割合。起動時、`GlobalEnv`は更新用の`MemTracker`を`process_mem_limit * clamp(update_memory_limit_percent, 0, 100) / 100`として計算します。`UpdateManager`もこの割合を使用してプライマリインデックス/インデックスキャッシュ容量を決定します（インデックスキャッシュ容量 = `GlobalEnv::process_mem_limit * update_memory_limit_percent / 100`）。HTTP設定更新ロジックは、更新マネージャーで`update_primary_index_memory_limit`を呼び出すコールバックを登録するため、設定が変更された場合、更新サブシステムに適用されます。この値を増やすと、更新/プライマリインデックスパスにより多くのメモリが割り当てられ（他のプールで利用可能なメモリが減少）、減らすと更新メモリとキャッシュ容量が減少します。値は0〜100の範囲にクランプされます。
- 導入バージョン: v3.2.0

##### vector_chunk_size

- デフォルト: 4096
- タイプ: Int
- 単位: 行
- 変更可能: いいえ
- 説明: 実行およびストレージコードパス全体で使用される、ベクター化されたチャンク（バッチ）あたりの行数。この値は、ChunkおよびRuntimeStateのbatch_size作成を制御し、オペレーターのスループット、オペレーターあたりのメモリフットプリント、スピルおよびソートバッファのサイズ設定、I/Oヒューリスティック（例えば、ORCライターの自然な書き込みサイズ）に影響します。これを増やすと、ワイド/CPUバウンドのワークロードのCPUおよびI/O効率が向上する可能性がありますが、ピークメモリ使用量が増加し、小さな結果のクエリのレイテンシが増加する可能性があります。バッチサイズがボトルネックであることがプロファイリングで示された場合にのみ調整してください。そうでない場合は、バランスの取れたメモリとパフォーマンスのためにデフォルトのままにしてください。
- 導入バージョン: v3.2.0

### ロード

##### clear_transaction_task_worker_count

- デフォルト: 1
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: トランザクションクリアに使用されるスレッド数。
- 導入バージョン: -

##### column_mode_partial_update_insert_batch_size

- デフォルト: 4096
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 挿入された行を処理する際のカラムモードの部分更新のバッチサイズ。この項目が`0`または負の値に設定されている場合、無限ループを避けるために`1`にクランプされます。この項目は、各バッチで処理される新しく挿入された行の数を制御します。値が大きいほど書き込みパフォーマンスが向上しますが、より多くのメモリを消費します。
- 導入バージョン: v3.5.10, v4.0.2

##### enable_load_spill_parallel_merge

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 単一タブレット内での並列スピルマージを有効にするかどうかを指定します。これを有効にすると、データロード中のスピルマージのパフォーマンスを向上させることができます。
- 導入バージョン: -

##### enable_stream_load_verbose_log

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: Stream LoadジョブのHTTPリクエストとレスポンスをログに記録するかどうかを指定します。
- 導入バージョン: v2.5.17, v3.0.9, v3.1.6, v3.2.1

##### flush_thread_num_per_store

- デフォルト: 2
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 各ストアでMemTableをフラッシュするために使用されるスレッド数。
- 導入バージョン: -

##### lake_flush_thread_num_per_store

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターの各ストアでMemTableをフラッシュするために使用されるスレッド数。
値が`0`に設定されている場合、システムはCPUコア数の2倍の値を自動的に使用します。
値が`0`より小さい値に設定されている場合、システムはその絶対値とCPUコア数の積の値を自動的に使用します。
- 導入バージョン: v3.1.12, 3.2.7

##### load_data_reserve_hours

- デフォルト: 4
- タイプ: Int
- 単位: 時間
- 変更可能: いいえ
- 説明: 小規模なローディングによって生成されたファイルの予約時間。
- 導入バージョン: -

##### load_error_log_reserve_hours

- デフォルト: 48
- タイプ: Int
- 単位: 時間
- 変更可能: はい
- 説明: データローディングログが予約される期間。
- 導入バージョン: -

##### load_process_max_memory_limit_bytes

- デフォルト: 107374182400
- タイプ: Int
- 単位: バイト
- 変更可能: いいえ
- 説明: BEノード上のすべてのロードプロセスが占有できるメモリリソースの最大サイズ制限。
- 導入バージョン: -

##### load_spill_memory_usage_per_merge

- デフォルト: 1073741824
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: スピルマージ中の各マージ操作あたりの最大メモリ使用量。デフォルトは1 GB（1073741824バイト）。このパラメーターは、データロードスピルマージ中の個々のマージタスクのメモリ消費を制御し、過剰なメモリ使用量を防ぎます。
- 導入バージョン: -

##### max_consumer_num_per_group

- デフォルト: 3
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: Routine Loadのコンシューマーグループ内の最大コンシューマー数。
- 導入バージョン: -

##### max_runnings_transactions_per_txn_map

- デフォルト: 100
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 各パーティションで同時に実行できるトランザクションの最大数。
- 導入バージョン: -

##### number_tablet_writer_threads

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: Stream Load、Broker Load、Insertなどの取り込みで使用されるタブレットライタースレッドの数。パラメーターが0以下の値に設定されている場合、システムはCPUコア数の半分（最小16）を使用します。パラメーターが0より大きい値に設定されている場合、システムはその値を使用します。この設定はv3.1.7以降動的に変更可能になりました。
- 導入バージョン: -

##### push_worker_count_high_priority

- デフォルト: 3
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: HIGH優先度でロードタスクを処理するために使用されるスレッド数。
- 導入バージョン: -

##### push_worker_count_normal_priority

- デフォルト: 3
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: NORMAL優先度でロードタスクを処理するために使用されるスレッド数。
- 導入バージョン: -

##### streaming_load_max_batch_size_mb

- デフォルト: 100
- タイプ: Int
- 単位: MB
- 変更可能: はい
- 説明: StarRocksにストリームできるJSONファイルの最大サイズ。
- 導入バージョン: -

##### streaming_load_max_mb

- デフォルト: 102400
- タイプ: Int
- 単位: MB
- 変更可能: はい
- 説明: StarRocksにストリームできるファイルの最大サイズ。v3.0から、デフォルト値は`10240`から`102400`に変更されました。
- 導入バージョン: -

##### streaming_load_rpc_max_alive_time_sec

- デフォルト: 1200
- タイプ: Int
- 単位: 秒
- 変更可能: いいえ
- 説明: Stream LoadのRPCタイムアウト。
- 導入バージョン: -

##### transaction_publish_version_thread_pool_idle_time_ms

- デフォルト: 60000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: いいえ
- 説明: Publish Versionスレッドプールがスレッドを回収するまでのアイドル時間。
- 導入バージョン: -

##### transaction_publish_version_worker_count

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: バージョンをパブリッシュするために使用される最大スレッド数。この値が`0`以下に設定されている場合、インポートの並行処理が高いのに固定されたスレッド数しか使用されない場合に、スレッドリソース不足を避けるため、システムはCPUコア数を値として使用します。v2.5から、デフォルト値は`8`から`0`に変更されました。
- 導入バージョン: -

##### write_buffer_size

- デフォルト: 104857600
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: メモリ内のMemTableのバッファサイズ。この設定項目はフラッシュをトリガーする閾値です。
- 導入バージョン: -

### ロードとアンロード

##### broker_write_timeout_seconds

- デフォルト: 30
- タイプ: int
- 単位: 秒
- 変更可能: いいえ
- 説明: バックエンドのブローカー操作で書き込み/IO RPCに使用されるタイムアウト（秒単位）。この値は1000倍されてミリ秒単位のタイムアウトになり、BrokerFileSystemおよびBrokerServiceConnectionインスタンス（例：ファイルエクスポート、スナップショットアップロード/ダウンロード）へのデフォルトの`timeout_ms`として渡されます。ブローカーまたはネットワークが遅い場合、または大きなファイルを転送する場合に、時期尚早なタイムアウトを避けるためにこの値を増やしてください。減らすとブローカーRPCがより早く失敗する可能性があります。この値はcommon/configで定義されており、プロセス起動時に適用されます（動的に再読み込み可能ではありません）。
- 導入バージョン: v3.2.0

##### enable_load_channel_rpc_async

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 有効にすると、ロードチャネルのオープンRPC（例：`PTabletWriterOpen`）の処理は、BRPCワーカーから専用のスレッドプールにオフロードされます。リクエストハンドラーは`ChannelOpenTask`を作成し、`LoadChannelMgr::_open`をインラインで実行する代わりに内部の`_async_rpc_pool`にサブミットします。これにより、BRPCスレッド内の作業とブロッキングが減少し、`load_channel_rpc_thread_pool_num`と`load_channel_rpc_thread_pool_queue_size`を介して並行処理を調整できます。スレッドプールのサブミットが失敗した場合（プールが満杯またはシャットダウンされた場合）、リクエストはキャンセルされ、エラー状態が返されます。プールは`LoadChannelMgr::close()`でシャットダウンされるため、この機能を有効にする際には、リクエストの拒否や処理の遅延を避けるために容量とライフサイクルを考慮してください。
- 導入バージョン: v3.5.0

##### enable_load_diagnose

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 有効にすると、StarRocksは`"[E1008]Reached timeout"`と一致するbrpcタイムアウト後にBE OlapTableSink/NodeChannelから自動ロード診断を試行します。コードは`PLoadDiagnoseRequest`を作成し、リモートLoadChannelにRPCを送信してプロファイルおよび/またはスタックトレースを収集します（`load_diagnose_rpc_timeout_profile_threshold_ms`および`load_diagnose_rpc_timeout_stack_trace_threshold_ms`によって制御されます）。診断RPCは`load_diagnose_send_rpc_timeout_ms`をタイムアウトとして使用します。診断リクエストが既に進行中の場合、診断はスキップされます。これを有効にすると、ターゲットノードで追加のRPCとプロファイリング作業が発生します。センシティブな本番ワークロードでは、追加のオーバーヘッドを避けるために無効にしてください。
- 導入バージョン: v3.5.0

##### enable_load_segment_parallel

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: 有効にすると、ロウセットセグメントのロードとロウセットレベルの読み取りは、StarRocksのバックグラウンドスレッドプール（`ExecEnv::load_segment_thread_pool`および`ExecEnv::load_rowset_thread_pool`）を使用して並行して実行されます。`Rowset::load_segments`および`TabletReader::get_segment_iterators`は、セグメントごとまたはロウセットごとのタスクをこれらのプールにサブミットし、サブミットが失敗した場合はシリアルロードにフォールバックして警告をログに記録します。大きなロウセットの読み取り/ロードレイテンシを削減するにはこれを有効にしますが、CPU/IO並行処理とメモリ負荷が増加するコストがかかります。注：並列ロードはセグメントのロード完了順序を変更する可能性があるため、部分コンパクションを防ぎます（コードは`_parallel_load`をチェックし、有効な場合は部分コンパクションを無効にします）。セグメントの順序に依存する操作への影響を考慮してください。
- 導入バージョン: v3.3.0, v3.4.0, v3.5.0

##### enable_streaming_load_thread_pool

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: ストリーミングロードスキャナが専用のストリーミングロードスレッドプールにサブミットされるかどうかを制御します。有効で、クエリが`TLoadJobType::STREAM_LOAD`のLOADである場合、`ConnectorScanNode`はスキャナタスクを`streaming_load_thread_pool`（INT32_MAXスレッドとキューサイズ、つまり実質的に無制限に構成されている）にサブミットします。無効の場合、スキャナは汎用の`thread_pool`とその`PriorityThreadPool`サブミットロジック（優先度計算、`try_offer/offer`動作）を使用します。有効にすると、ストリーミングロードの作業が通常のクエリ実行から分離され、干渉が減少します。ただし、専用プールが実質的に無制限であるため、有効にすると、ストリーミングロードトラフィックが多い場合に同時スレッドとリソース使用量が増加する可能性があります。このオプションはデフォルトでオンになっており、通常は変更する必要はありません。
- 導入バージョン: v3.2.0

##### es_http_timeout_ms

- デフォルト: 5000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: いいえ
- 説明: Elasticsearchスクロールリクエストで`ESScanReader`のESネットワーククライアントが使用するHTTP接続タイムアウト（ミリ秒単位）。この値は、後続のスクロールPOSTを送信する前に`network_client.set_timeout_ms()`を介して適用され、スクロール中にES応答を待つ時間を制御します。遅いネットワークまたは大きなクエリの場合に時期尚早なタイムアウトを避けるためにこの値を増やし、応答しないESノードでより早く失敗するために減らしてください。この設定は、スクロールコンテキストのキープアライブ期間を制御する`es_scroll_keepalive`を補完します。
- 導入バージョン: v3.2.0

##### es_index_max_result_window

- デフォルト: 10000
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: StarRocksがElasticsearchから単一バッチでリクエストするドキュメントの最大数を制限します。StarRocksは、ESリーダーの`KEY_BATCH_SIZE`を構築する際に、ESリクエストのバッチサイズを`min(es_index_max_result_window, chunk_size)`に設定します。ESリクエストがElasticsearchのインデックス設定`index.max_result_window`を超えると、ElasticsearchはHTTP 400（Bad Request）を返します。大きなインデックスをスキャンする場合、またはES側でESの`index.max_result_window`を増やしてより大きな単一リクエストを許可する場合に、この値を調整してください。
- 導入バージョン: v3.2.0

##### ignore_load_tablet_failure

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: この項目が`false`（デフォルト）に設定されている場合、システムはタブレットヘッダーロードの失敗（NotFoundおよびAlreadyExist以外のエラー）を致命的として扱います。コードはエラーをログに記録し、BEプロセスを停止するために`LOG(FATAL)`を呼び出します。`true`に設定されている場合、BEはこのようなタブレットごとのロードエラーにもかかわらず起動を続行します。失敗したタブレットIDは記録されてスキップされ、成功したタブレットはロードされます。このパラメーターは、RocksDBメタスキャン自体からの致命的なエラーを抑制するものではないことに注意してください。これは常にプロセスを終了させます。
- 導入バージョン: v3.2.0

##### load_channel_abort_clean_up_delay_seconds

- デフォルト: 600
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: 中止されたロードチャネルのロードIDを、`_aborted_load_channels`から削除するまでにシステムが保持する期間（秒単位）を制御します。ロードジョブがキャンセルまたは失敗した場合、ロードIDは記録されたままになるため、後から到着するロードRPCは直ちに拒否されます。遅延期間が経過すると、エントリは定期的なバックグラウンドスイープ中にクリーンアップされます（最小スイープ間隔は60秒）。遅延を低く設定しすぎると、中止後に迷子RPCを受け入れるリスクがあり、高く設定しすぎると、必要以上に状態を保持し、リソースを消費する可能性があります。この値を、遅延リクエスト拒否の正確性と、中止されたロードのリソース保持とのバランスを取るように調整してください。
- 導入バージョン: v3.5.11, v4.0.4

##### load_channel_rpc_thread_pool_num

- デフォルト: -1
- タイプ: Int
- 単位: スレッド
- 変更可能: はい
- 説明: ロードチャネルの非同期RPCスレッドプールの最大スレッド数。0以下（デフォルト`-1`）に設定されている場合、プールサイズはCPUコア数（`CpuInfo::num_cores()`）に自動設定されます。設定された値は`ThreadPoolBuilder`の最大スレッド数として使用され、プールの最小スレッド数は`min(5, max_threads)`に設定されます。プールキューサイズは`load_channel_rpc_thread_pool_queue_size`によって個別に制御されます。この設定は、ロードRPC処理を同期から非同期に切り替えた後も動作の互換性を保つために、非同期RPCプールサイズをbrpcワーカーのデフォルト（`brpc_num_threads`）に合わせるために導入されました。実行時にこの設定を変更すると、`ExecEnv::GetInstance()->load_channel_mgr()->async_rpc_pool()->update_max_threads(...)`がトリガーされます。
- 導入バージョン: v3.5.0

##### load_channel_rpc_thread_pool_queue_size

- デフォルト: 1024000
- タイプ: int
- 単位: カウント
- 変更可能: いいえ
- 説明: `LoadChannelMgr`によって作成されるロードチャネルRPCスレッドプールの保留中タスクキューの最大サイズを設定します。このスレッドプールは、`enable_load_channel_rpc_async`が有効な場合に非同期`open`リクエストを実行します。プールサイズは`load_channel_rpc_thread_pool_num`と対になります。大きなデフォルト値（1024000）は、同期処理から非同期処理への切り替え後も動作を維持するためにbrpcワーカーのデフォルトに合わせられています。キューが満杯の場合、`ThreadPool::submit()`は失敗し、受信`open` RPCはエラーとともにキャンセルされ、呼び出し元は拒否を受け取ります。同時`open`リクエストの大きなバーストをバッファリングするにはこの値を増やし、バックプレッシャを厳しくするには減らしますが、ロード下でより多くの拒否を引き起こす可能性があります。
- 導入バージョン: v3.5.0

##### load_diagnose_rpc_timeout_profile_threshold_ms

- デフォルト: 60000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: ロードRPCがタイムアウトし（エラーに`"[E1008]Reached timeout"`が含まれる）、`enable_load_diagnose`がtrueの場合、この閾値は完全なプロファイリング診断が要求されるかどうかを制御します。リクエストレベルのRPCタイムアウト`_rpc_timeout_ms`が`load_diagnose_rpc_timeout_profile_threshold_ms`より大きい場合、その診断に対してプロファイリングが有効になります。`_rpc_timeout_ms`が小さい値の場合、リアルタイム/短時間タイムアウトのロードに対して頻繁な重い診断を避けるため、プロファイリングは20回のタイムアウトごとに1回サンプリングされます。この値は、送信される`PLoadDiagnoseRequest`の`profile`フラグに影響します。スタックトレースの動作は`load_diagnose_rpc_timeout_stack_trace_threshold_ms`によって個別に制御され、送信タイムアウトは`load_diagnose_send_rpc_timeout_ms`によって制御されます。
- 導入バージョン: v3.5.0

##### load_diagnose_rpc_timeout_stack_trace_threshold_ms

- デフォルト: 600000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: 長時間実行されるロードRPCに対してリモートスタックトレースを要求する時期を決定するために使用される閾値（ミリ秒単位）。ロードRPCがタイムアウトエラーでタイムアウトし、実効RPCタイムアウト（`_rpc_timeout_ms`）がこの値を超えた場合、`OlapTableSink`/`NodeChannel`はターゲットBEに`stack_trace=true`を含む`load_diagnose` RPCを送信し、BEはデバッグのためにスタックトレースを返します。`LocalTabletsChannel::SecondaryReplicasWaiter`も、セカンダリレプリカの待機がこの間隔を超えた場合、プライマリからベストエフォートなスタックトレース診断をトリガーします。この動作には`enable_load_diagnose`が必要であり、診断RPCのタイムアウトには`load_diagnose_send_rpc_timeout_ms`を使用します。プロファイリングは`load_diagnose_rpc_timeout_profile_threshold_ms`によって個別に制御されます。この値を下げると、スタックトレースがより積極的に要求されるようになります。
- 導入バージョン: v3.5.0

##### load_diagnose_send_rpc_timeout_ms

- デフォルト: 2000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: BEロードパスによって開始される診断関連のbrpc呼び出しに適用されるタイムアウト（ミリ秒単位）。`load_diagnose` RPC（`LoadChannel` brpc呼び出しがタイムアウトしたときに`NodeChannel`/`OlapTableSink`によって送信される）およびレプリカステータスクエリ（`SecondaryReplicasWaiter`/`LocalTabletsChannel`がプライマリレプリカの状態をチェックするときに使用する）のコントローラタイムアウトを設定するために使用されます。リモート側がプロファイルまたはスタックトレースデータで応答できるように十分に高い値を設定しますが、障害処理が遅延しないように高すぎないようにしてください。このパラメーターは、診断情報が要求される時期と内容を制御する`enable_load_diagnose`、`load_diagnose_rpc_timeout_profile_threshold_ms`、`load_diagnose_rpc_timeout_stack_trace_threshold_ms`と連携して機能します。
- 導入バージョン: v3.5.0

##### load_fp_brpc_timeout_ms

- デフォルト: -1
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: `node_channel_set_brpc_timeout`失敗点がトリガーされたときに`OlapTableSink`が使用するチャネルごとのbrpc RPCタイムアウトをオーバーライドします。正の値に設定されている場合、`NodeChannel`はその内部`_rpc_timeout_ms`をこの値（ミリ秒単位）に設定し、open/add-chunk/cancel RPCがより短いタイムアウトを使用するようにして、`"[E1008]Reached timeout"`エラーを生成するbrpcタイムアウトのシミュレーションを可能にします。デフォルト（`-1`）はオーバーライドを無効にします。この値の変更はテストおよび障害注入を目的としています。小さい値は誤ったタイムアウトを生成し、ロード診断をトリガーする可能性があります（`enable_load_diagnose`、`load_diagnose_rpc_timeout_profile_threshold_ms`、`load_diagnose_rpc_timeout_stack_trace_threshold_ms`、および`load_diagnose_send_rpc_timeout_ms`を参照）。
- 導入バージョン: v3.5.0

##### load_fp_tablets_channel_add_chunk_block_ms

- デフォルト: -1
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: 有効（正のミリ秒値に設定）の場合、この障害点設定は、ロード処理中に`TabletsChannel::add_chunk`を指定された時間だけスリープさせます。これは、BRPCタイムアウトエラー（例：`"[E1008]Reached timeout"`）をシミュレートし、ロードレイテンシを増加させるコストの高い`add_chunk`操作をエミュレートするために使用されます。0以下の値（デフォルト`-1`）は注入を無効にします。これは障害処理、タイムアウト、レプリカ同期動作のテストを目的としています。書き込み完了を遅らせ、アップストリームタイムアウトやレプリカ中止をトリガーする可能性があるため、通常の本番ワークロードでは有効にしないでください。
- 導入バージョン: v3.5.0

##### load_segment_thread_pool_num_max

- デフォルト: 128
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: BEのロード関連スレッドプールの最大ワーカー・スレッド数を設定します。この値は`ThreadPoolBuilder`によって`exec_env.cpp`の`load_rowset_pool`と`load_segment_pool`の両方のスレッドを制限するために使用され、ストリーミングロードとバッチロード中のロードされたロウセットとセグメントの処理（例：デコード、インデックス作成、書き込み）の並行処理を制御します。この値を増やすと並行処理が増加し、ロードスループットが向上する可能性がありますが、CPU、メモリ使用量、および潜在的な競合も増加します。減らすと同時ロード処理が制限され、スループットが減少する可能性があります。`load_segment_thread_pool_queue_size`および`streaming_load_thread_pool_idle_time_ms`とともに調整してください。変更にはBEの再起動が必要です。
- 導入バージョン: v3.3.0, v3.4.0, v3.5.0

##### load_segment_thread_pool_queue_size

- デフォルト: 10240
- タイプ: Int
- 単位: タスク
- 変更可能: いいえ
- 説明: "load_rowset_pool"と"load_segment_pool"として作成されるロード関連スレッドプールの最大キュー長（保留中タスク数）を設定します。これらのプールは、最大スレッド数に`load_segment_thread_pool_num_max`を使用し、この設定は、`ThreadPool`のオーバーフローポリシーが有効になる前に、いくつのロードセグメント/ロウセットタスクをバッファリングできるかを制御します（`ThreadPool`の実装に応じて、さらなるサブミットは拒否またはブロックされる可能性があります）。保留中のロード作業を増やすにはこの値を増やし（メモリ使用量が増え、レイテンシが増加する可能性あり）、バッファリングされるロードの並行処理を制限し、メモリ使用量を削減するには減らしてください。
- 導入バージョン: v3.3.0, v3.4.0, v3.5.0

##### max_pulsar_consumer_num_per_group

- デフォルト: 10
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: BE上のRoutine Loadの単一データコンシューマーグループで作成できるPulsarコンシューマーの最大数を制御します。マルチトピックサブスクリプションでは累積承認がサポートされていないため、各コンシューマーは正確に1つのトピック/パーティションをサブスクライブします。`pulsar_info->partitions`内のパーティション数がこの値を超えると、グループ作成は失敗し、BEで`max_pulsar_consumer_num_per_group`を増やすか、BEを追加するようエラーが通知されます。この制限は`PulsarDataConsumerGroup`構築時に適用され、BEが1つのRoutine Loadグループに対してこの数以上のコンシューマーをホストするのを防ぎます。Kafka Routine Loadの場合、代わりに`max_consumer_num_per_group`が使用されます。
- 導入バージョン: v3.2.0

##### pull_load_task_dir

- デフォルト: `${STARROCKS_HOME}/var/pull_load`
- タイプ: string
- 単位: -
- 変更可能: いいえ
- 説明: BEが「プルロード」タスクのデータと作業ファイル（ダウンロードされたソースファイル、タスクの状態、一時出力など）を格納するファイルシステムパス。ディレクトリはBEプロセスから書き込み可能で、受信するロードに対して十分なディスク容量が必要です。デフォルトはSTARROCKS_HOMEからの相対パスです。テストではこのディレクトリが存在することを期待して作成されます（テスト設定を参照）。
- 導入バージョン: v3.2.0

##### routine_load_kafka_timeout_second

- デフォルト: 10
- タイプ: Int
- 単位: 秒
- 変更可能: いいえ
- 説明: Kafka関連のルーチンロード操作に使用されるタイムアウト（秒単位）。クライアントリクエストがタイムアウトを指定しない場合、`get_info`のデフォルトRPCタイムアウトとして（ミリ秒に変換されて）`routine_load_kafka_timeout_second`が使用されます。また、librdkafkaコンシューマーの呼び出しごとのコンシュームポーリングタイムアウトとしても使用されます（ミリ秒に変換され、残りの実行時間によって制限されます）。注：内部の`get_info`パスは、FE側のタイムアウト競合を避けるために、librdkafkaに渡す前にこの値を80%に減らします。適時の障害報告とネットワーク/ブローカー応答に十分な時間のバランスをとる値に設定してください。設定は変更できないため、変更には再起動が必要です。
- 導入バージョン: v3.2.0

##### routine_load_pulsar_timeout_second

- デフォルト: 10
- タイプ: Int
- 単位: 秒
- 変更可能: いいえ
- 説明: リクエストが明示的なタイムアウトを提供しない場合に、Pulsar関連のルーチンロード操作のためにBEが使用するデフォルトのタイムアウト（秒単位）。具体的には、`PInternalServiceImplBase::get_pulsar_info`はこの値を1000倍して、Pulsarパーティションメタデータとバックログをフェッチするルーチンロードタスク実行メソッドに渡されるミリ秒単位のタイムアウトを形成します。遅いPulsar応答を許可するためにこれを増やすと、障害検出が遅れるコストがかかります。遅いブローカーでより早く失敗するには減らしてください。Kafkaに使用される`routine_load_kafka_timeout_second`と類似しています。
- 導入バージョン: v3.2.0

##### streaming_load_thread_pool_idle_time_ms

- デフォルト: 2000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: いいえ
- 説明: ストリーミングロード関連スレッドプールのスレッドアイドルタイムアウト（ミリ秒単位）を設定します。この値は、`stream_load_io`プールおよび`load_rowset_pool`と`load_segment_pool`の`ThreadPoolBuilder`にアイドルタイムアウトとして渡されます。これらのプールのスレッドは、この期間アイドル状態が続くと回収されます。値が低いほどアイドル状態のリソース使用量が減少しますが、スレッド作成オーバーヘッドが増加します。値が高いほど、短時間のバースト負荷に対してスレッドが長時間アクティブな状態を維持できます。`stream_load_io`プールは`enable_streaming_load_thread_pool`が有効な場合に使用されます。
- 導入バージョン: v3.2.0

##### streaming_load_thread_pool_num_min

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: ExecEnv初期化中に作成されるストリーミングロードIOスレッドプール（"stream_load_io"）の最小スレッド数。プールは`set_max_threads(INT32_MAX)`および`set_max_queue_size(INT32_MAX)`で構築されるため、同時ストリーミングロードのデッドロックを避けるために実質的に無制限です。値が0の場合、プールはスレッドなしで開始され、オンデマンドで増加します。正の値を設定すると、起動時にその数のスレッドが予約されます。このプールは`enable_streaming_load_thread_pool`がtrueの場合に使用され、アイドルタイムアウトは`streaming_load_thread_pool_idle_time_ms`によって制御されます。全体的な並行処理は`fragment_pool_thread_num_max`および`webserver_num_workers`によって依然として制約されます。この値を変更する必要があることはめったになく、高すぎるとリソース使用量が増加する可能性があります。
- 導入バージョン: v3.2.0

### 統計レポート

##### enable_metric_calculator

- デフォルト: true
- タイプ: boolean
- 単位: -
- 変更可能: いいえ
- 説明: trueの場合、BEプロセスはバックグラウンドの"metrics_daemon"スレッドを起動し（非Appleプラットフォームでは`Daemon::init`で開始）、約15秒ごとに`StarRocksMetrics::instance()->metrics()->trigger_hook()`を呼び出して、派生/システムメトリクス（例：push/queryバイト/秒、ディスクI/O最大利用率、ネットワーク送受信最大レート）を計算し、メモリの内訳をログに記録し、テーブルメトリクスのクリーンアップを実行します。falseの場合、これらのフックはメトリクス収集時に`MetricRegistry::collect`内で同期的に実行され、メトリクススクレイプのレイテンシが増加する可能性があります。有効にするにはプロセス再起動が必要です。
- 導入バージョン: v3.2.0

##### enable_system_metrics

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: trueの場合、StarRocksは起動中にシステムレベルのモニタリングを初期化します。設定されたストアパスからディスクデバイスを検出し、ネットワークインターフェイスを列挙し、この情報をメトリクスサブシステムに渡して、ディスクI/O、ネットワークトラフィック、メモリ関連のシステムメトリクスの収集を有効にします。デバイスまたはインターフェイスの検出が失敗した場合、初期化は警告をログに記録し、システムメトリクスのセットアップを中止します。このフラグはシステムメトリクスが初期化されるかどうかのみを制御します。定期的なメトリクス集約スレッドは`enable_metric_calculator`によって個別に制御され、JVMメトリクス初期化は`enable_jvm_metrics`によって制御されます。この値を変更するには再起動が必要です。
- 導入バージョン: v3.2.0

##### profile_report_interval

- デフォルト: 30
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: `ProfileReportWorker`が(1) LOADクエリのフラグメントごとのプロファイル情報を報告するタイミングと、(2) 報告サイクル間にスリープするタイミングを決定するために使用する間隔（秒単位）。ワーカーは、現在の時刻と各タスクの`last_report_time`を比較し、(profile_report_interval * 1000)ミリ秒を使用して、非パイプラインおよびパイプラインのロードタスクの両方でプロファイルを再報告すべきかどうかを判断します。各ループで、ワーカーは現在の値（実行時に変更可能）を読み取ります。設定された値が0以下の場合、ワーカーは強制的に1に設定し、警告を出力します。この値を変更すると、次の報告決定とスリープ期間に影響します。
- 導入バージョン: v3.2.0

##### report_disk_state_interval_seconds

- デフォルト: 60
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: ストレージボリュームの状態（ボリューム内のデータサイズを含む）を報告する時間間隔。
- 導入バージョン: -

##### report_resource_usage_interval_ms

- デフォルト: 1000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: BEエージェントからFE（マスター）に送信される定期的なリソース使用量レポート間の間隔（ミリ秒単位）。エージェントワーカー・スレッドは`TResourceUsage`（実行中のクエリ数、使用/制限メモリ、使用CPUパーミル、リソースグループ使用量）を収集し、`report_task`を呼び出し、この設定された間隔だけスリープします（task_worker_poolを参照）。値が低いほど報告の適時性が向上しますが、CPU、ネットワーク、マスターの負荷が増加します。値が高いほどオーバーヘッドが減少しますが、リソース情報が古くなります。報告は関連メトリクス（`report_resource_usage_requests_total`、`report_resource_usage_requests_failed`）を更新します。クラスターの規模とFEの負荷に合わせて調整してください。
- 導入バージョン: v3.2.0

##### report_tablet_interval_seconds

- デフォルト: 60
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: すべてのタブレットの最新バージョンを報告する時間間隔。
- 導入バージョン: -

##### report_task_interval_seconds

- デフォルト: 10
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: タスクの状態を報告する時間間隔。タスクは、テーブルの作成、テーブルの削除、データのロード、テーブルスキーマの変更などです。
- 導入バージョン: -

##### report_workgroup_interval_seconds

- デフォルト: 5
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: すべてのワークグループの最新バージョンを報告する時間間隔。
- 導入バージョン: -

### ストレージ

##### alter_tablet_worker_count

- デフォルト: 3
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: スキーマ変更に使用されるスレッド数。
- 導入バージョン: -

##### avro_ignore_union_type_tag

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: Avro Unionデータ型からシリアル化されたJSON文字列から型タグを削除するかどうか。
- 導入バージョン: v3.3.7, v3.4

##### base_compaction_check_interval_seconds

- デフォルト: 60
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: ベースコンパクションのポーリングスレッドの時間間隔。
- 導入バージョン: -

##### base_compaction_interval_seconds_since_last_operation

- デフォルト: 86400
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: 前回のベースコンパクションからの時間間隔。この設定項目は、ベースコンパクションをトリガーする条件の1つです。
- 導入バージョン: -

##### base_compaction_num_threads_per_disk

- デフォルト: 1
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: 各ストレージボリューム上のベースコンパクションに使用されるスレッド数。
- 導入バージョン: -

##### base_cumulative_delta_ratio

- デフォルト: 0.3
- タイプ: Double
- 単位: -
- 変更可能: はい
- 説明: 累積ファイルサイズとベースファイルサイズの比率。この比率に達することは、ベースコンパクションをトリガーする条件の1つです。
- 導入バージョン: -

##### chaos_test_enable_random_compaction_strategy

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: この項目が`true`に設定されている場合、`TabletUpdates::compaction()`はカオスエンジニアリングテストを目的としたランダムコンパクション戦略（`compaction_random`）を使用します。このフラグは、タブレットのコンパクション選択中に通常の戦略（例：サイズ階層型コンパクション）ではなく、非決定論的/ランダムなポリシーに従うようにコンパクションを強制し、優先されます。これは制御されたテストのみを目的としており、有効にすると予測不能なコンパクション順序、I/O/CPUの増加、テストの不安定性が発生する可能性があります。本番環境では有効にしないでください。障害注入またはカオス​​テストシナリオでのみ使用してください。
- 導入バージョン: v3.3.12, 3.4.2, 3.5.0, 4.0.0

##### check_consistency_worker_count

- デフォルト: 1
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: タブレットの一貫性をチェックするために使用されるスレッド数。
- 導入バージョン: -

##### clear_expired_replication_snapshots_interval_seconds

- デフォルト: 3600
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: システムが異常なレプリケーションによって残された期限切れのスナップショットをクリアする時間間隔。
- 導入バージョン: v3.3.5

##### compact_threads

- デフォルト: 4
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 同時コンパクションタスクに使用される最大スレッド数。この設定はv3.1.7およびv3.2.2以降、動的に変更可能になりました。
- 導入バージョン: v3.0.0

##### compaction_max_memory_limit

- デフォルト: -1
- タイプ: Long
- 単位: バイト
- 変更可能: いいえ
- 説明: このBE上のコンパクションタスクで利用可能なメモリのグローバルな上限（バイト単位）。BEの初期化中、最終的なコンパクションメモリ制限は`min(compaction_max_memory_limit, process_mem_limit * compaction_max_memory_limit_percent / 100)`として計算されます。`compaction_max_memory_limit`が負の値（デフォルト`-1`）の場合、`mem_limit`から派生したBEプロセスメモリ制限にフォールバックします。パーセンテージ値は[0,100]にクランプされます。プロセスメモリ制限が設定されていない（負の値）場合、コンパクションメモリは無制限（`-1`）のままになります。この計算された値は、`_compaction_mem_tracker`を初期化するために使用されます。`compaction_max_memory_limit_percent`および`compaction_memory_limit_per_worker`も参照してください。
- 導入バージョン: v3.2.0

##### compaction_max_memory_limit_percent

- デフォルト: 100
- タイプ: Int
- 単位: パーセント
- 変更可能: いいえ
- 説明: コンパクションに使用できるBEプロセスメモリの割合。BEは、コンパクションメモリの上限を`compaction_max_memory_limit`と（プロセスメモリ制限 × このパーセンテージ / 100）の最小値として計算します。この値が0未満または100より大きい場合、100として扱われます。`compaction_max_memory_limit`が0未満の場合、代わりにプロセスメモリ制限が使用されます。計算では、`mem_limit`から派生したBEプロセスメモリも考慮されます。`compaction_memory_limit_per_worker`（ワーカーごとの上限）と組み合わせることで、この設定は利用可能な総コンパクションメモリを制御し、したがってコンパクションの並行処理とOOMリスクに影響します。
- 導入バージョン: v3.2.0

##### compaction_memory_limit_per_worker

- デフォルト: 2147483648
- タイプ: Int
- 単位: バイト
- 変更可能: いいえ
- 説明: 各コンパクションスレッドに許可される最大メモリサイズ。
- 導入バージョン: -

##### compaction_trace_threshold

- デフォルト: 60
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: 各コンパクションの時間閾値。コンパクションがこの閾値よりも長い時間を要する場合、StarRocksは対応するトレースを出力します。
- 導入バージョン: -

##### create_tablet_worker_count

- デフォルト: 3
- タイプ: Int
- 単位: スレッド
- 変更可能: はい
- 説明: FEからサブミットされる`TTaskType::CREATE`（タブレット作成）タスクを処理するAgentServerスレッドプールの最大ワーカー・スレッド数を設定します。BE起動時、この値はスレッドプールの最大値として使用され（プールは最小スレッド数1、最大キューサイズ無制限で作成されます）、実行時に`update-config` HTTPアクションを介して変更すると、プールの最大スレッドが更新されます（`ExecEnv::agent_server()->get_thread_pool(TTaskType::CREATE)->update_max_threads(...)`を呼び出す）。同時タブレット作成スループットを上げるにはこの値を増やし（一括ロードやパーティション作成時に有用）、同時作成操作を制限するには減らしてください。値を上げるとCPU、メモリ、I/Oの並行処理が増加し、競合を引き起こす可能性があります。スレッドプールは少なくとも1つのスレッドを強制するため、1未満の値は実際には効果がありません。
- 導入バージョン: v3.2.0

##### cumulative_compaction_check_interval_seconds

- デフォルト: 1
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: 累積コンパクションのポーリングスレッドの時間間隔。
- 導入バージョン: -

##### cumulative_compaction_num_threads_per_disk

- デフォルト: 1
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: ディスクごとの累積コンパクションスレッド数。
- 導入バージョン: -

##### data_page_size

- デフォルト: 65536
- タイプ: Int
- 単位: バイト
- 変更可能: いいえ
- 説明: カラムデータとインデックスページの構築時に使用されるターゲット非圧縮ページサイズ（バイト単位）。この値は`ColumnWriterOptions.data_page_size`および`IndexedColumnWriterOptions.index_page_size`にコピーされ、ページビルダー（例：`BinaryPlainPageBuilder::is_page_full`およびバッファ予約ロジック）によって、ページの完了時期と予約するメモリ量を決定するために参照されます。値が0の場合、ビルダーのページサイズ制限は無効になります。この値を変更すると、ページ数、メタデータオーバーヘッド、メモリ予約、I/O/圧縮のトレードオフ（ページが小さいほどページ数とメタデータが増加し、ページが大きいほどページ数が減少し、圧縮は向上する可能性がありますが、メモリの急増が発生する可能性があります）に影響します。
- 導入バージョン: v3.2.4

##### default_num_rows_per_column_file_block

- デフォルト: 1024
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 各行ブロックに格納できる最大行数。
- 導入バージョン: -

##### delete_worker_count_high_priority

- デフォルト: 1
- タイプ: Int
- 単位: スレッド
- 変更可能: いいえ
- 説明: DeleteTaskWorkerPool内のワーカー・スレッドのうち、HIGH優先度削除スレッドとして割り当てられるスレッド数。起動時、AgentServerは削除プールを`delete_worker_count_normal_priority + delete_worker_count_high_priority`の合計スレッド数で作成します。最初の`delete_worker_count_high_priority`スレッドは、`TPriority::HIGH`タスクを排他的にポップしようとするようにマークされます（高優先度削除タスクをポーリングし、利用可能なタスクがない場合はスリープ/ループします）。この値を増やすと、高優先度削除リクエストの並行処理が増加します。減らすと、専用容量が減少し、高優先度削除のレイテンシが増加する可能性があります。
- 導入バージョン: v3.2.0

##### dictionary_encoding_ratio

- デフォルト: 0.7
- タイプ: Double
- 単位: -
- 変更可能: いいえ
- 説明: `StringColumnWriter`がエンコード推測フェーズ中に、チャンクの辞書（DICT_ENCODING）とプレーン（PLAIN_ENCODING）エンコーディングを決定するために使用する割合（0.0-1.0）。コードは`max_card = row_count * dictionary_encoding_ratio`を計算し、チャンクの異なるキーカウントをスキャンします。異なるカウントが`max_card`を超えると、ライターは`PLAIN_ENCODING`を選択します。このチェックは、チャンクサイズが`dictionary_speculate_min_chunk_size`を超えた場合（かつ`row_count > dictionary_min_rowcount`の場合）にのみ実行されます。値を高く設定すると辞書エンコーディングが優先され（より多くの異なるキーを許容）、値を低く設定するとプレーンエンコーディングへのフォールバックが早まります。1.0の値は、実質的に辞書エンコーディングを強制します（異なるカウントが行カウントを超えることはありません）。
- 導入バージョン: v3.2.0

##### dictionary_encoding_ratio_for_non_string_column

- デフォルト: 0
- タイプ: double
- 単位: -
- 変更可能: いいえ
- 説明: 非文字列カラム（数値、日付/時刻、decimalタイプ）に辞書エンコーディングを使用するかどうかを決定するための比率閾値。有効（値が`0.0001`より大きい）の場合、ライターは`max_card = row_count * dictionary_encoding_ratio_for_non_string_column`を計算し、`row_count > dictionary_min_rowcount`のサンプルでは、`distinct_count ≤ max_card`の場合にのみ`DICT_ENCODING`を選択します。それ以外の場合は`BIT_SHUFFLE`にフォールバックします。`0`（デフォルト）の値は非文字列辞書エンコーディングを無効にします。このパラメーターは`dictionary_encoding_ratio`に類似していますが、非文字列カラムに適用されます。`(0,1]`の範囲の値を使用してください。値が小さいほど、辞書エンコーディングをカーディナリティの低いカラムに制限し、辞書のメモリ/IOオーバーヘッドを削減します。
- 導入バージョン: v3.3.0, v3.4.0, v3.5.0

##### dictionary_page_size

- デフォルト: 1048576
- タイプ: Int
- 単位: バイト
- 変更可能: いいえ
- 説明: ロウセットセグメント構築時に使用される辞書ページのサイズ（バイト単位）。この値はBEロウセットコードの`PageBuilderOptions::dict_page_size`に読み込まれ、1つの辞書ページに格納できる辞書エントリの数を制御します。この値を増やすと、より大きな辞書を許可することで辞書エンコードされたカラムの圧縮率が向上する可能性がありますが、ページが大きいと書き込み/エンコード中のメモリ消費が増加し、ページ読み取りまたは具現化時のI/Oとレイテンシが増加する可能性があります。大規模メモリ、書き込み負荷の高いワークロードでは控えめに設定し、実行時パフォーマンスの低下を防ぐために過度に大きな値は避けてください。
- 導入バージョン: v3.3.0, v3.4.0, v3.5.0

##### disk_stat_monitor_interval

- デフォルト: 5
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: ディスクのヘルス状態を監視する時間間隔。
- 導入バージョン: -

##### download_low_speed_limit_kbps

- デフォルト: 50
- タイプ: Int
- 単位: KB/秒
- 変更可能: はい
- 説明: 各HTTPリクエストのダウンロード速度下限。`download_low_speed_time`で指定された期間内に、この値よりも低い速度でHTTPリクエストが継続的に実行された場合、HTTPリクエストは中止されます。
- 導入バージョン: -

##### download_low_speed_time

- デフォルト: 300
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: HTTPリクエストが制限よりも低いダウンロード速度で実行できる最大時間。この設定項目で指定された期間内に、`download_low_speed_limit_kbps`の値よりも低い速度でHTTPリクエストが継続的に実行された場合、HTTPリクエストは中止されます。
- 導入バージョン: -

##### download_worker_count

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: BEノードでのリストアジョブのダウンロードタスクの最大スレッド数。`0`は、BEが稼働しているマシン上のCPUコア数に設定することを示します。
- 導入バージョン: -

##### drop_tablet_worker_count

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: タブレットを削除するために使用されるスレッド数。`0`はノード内のCPUコア数の半分を示します。
- 導入バージョン: -

##### enable_check_string_lengths

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: ロード中にデータ長をチェックして、範囲外のVARCHARデータによるコンパクション失敗を解決するかどうか。
- 導入バージョン: -

##### enable_event_based_compaction_framework

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: イベントベースのコンパクションフレームワークを有効にするかどうか。`true`はイベントベースのコンパクションフレームワークが有効になっていることを示し、`false`は無効になっていることを示します。イベントベースのコンパクションフレームワークを有効にすると、多くのタブレットがあるシナリオや単一タブレットに大量のデータがあるシナリオで、コンパクションのオーバーヘッドを大幅に削減できます。
- 導入バージョン: -

##### enable_lazy_delta_column_compaction

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 有効にすると、コンパクションは部分カラム更新によって生成されたデルタカラムに対して「遅延」戦略を優先します。StarRocksは、コンパクションI/Oを節約するために、デルタカラムファイルをメインセグメントファイルに積極的にマージすることを避けます。実際には、コンパクション選択コードは部分カラム更新ロウセットと複数の候補をチェックします。それらが見つかり、このフラグがtrueの場合、エンジンはコンパクションへのさらなる入力の追加を停止するか、空のロウセット（レベル-1）のみをマージし、デルタカラムを分離したままにします。これにより、コンパクション中の即時I/OとCPUは削減されますが、統合の遅延（潜在的に多くのセグメントと一時的なストレージオーバーヘッド）が発生するコストがかかります。正確性とクエリセマンティクスは変更されません。
- 導入バージョン: v3.2.3

##### enable_new_load_on_memory_limit_exceeded

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: ハードメモリリソース制限に達した場合に、新しいロードプロセスを許可するかどうか。`true`は新しいロードプロセスが許可されることを示し、`false`は拒否されることを示します。
- 導入バージョン: v3.3.2

##### enable_pk_index_parallel_compaction

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターでプライマリキーインデックスの並列コンパクションを有効にするかどうか。
- 導入バージョン: -

##### enable_pk_index_parallel_execution

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターでプライマリキーインデックス操作の並列実行を有効にするかどうか。有効にすると、システムはスレッドプールを使用してパブリッシュ操作中にセグメントを同時に処理し、大規模なタブレットのパフォーマンスを大幅に向上させます。
- 導入バージョン: -

##### enable_pk_index_eager_build

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: データインポートおよびコンパクションフェーズ中にプライマリキーインデックスファイルを積極的に構築するかどうか。有効にすると、システムはデータ書き込み中に永続PKインデックスファイルを直ちに生成し、その後のクエリパフォーマンスを向上させます。
- 導入バージョン: -

##### enable_pk_size_tiered_compaction_strategy

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: プライマリキーテーブルのサイズ階層型コンパクションポリシーを有効にするかどうか。`true`はサイズ階層型コンパクション戦略が有効であることを示し、`false`は無効であることを示します。
- 導入バージョン: この項目は、v3.2.4およびv3.1.10以降の共有データクラスターと、v3.2.5およびv3.1.10以降の共有型なしクラスターで有効になります。

##### enable_rowset_verify

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 生成されたロウセットの正確性を検証するかどうか。有効にすると、コンパクションとスキーマ変更後に生成されたロウセットの正確性がチェックされます。
- 導入バージョン: -

##### enable_size_tiered_compaction_strategy

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: サイズ階層型コンパクションポリシーを有効にするかどうか（プライマリキーテーブルを除く）。`true`はサイズ階層型コンパクション戦略が有効であることを示し、`false`は無効であることを示します。
- 導入バージョン: -

##### enable_strict_delvec_crc_check

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: `enable_strict_delvec_crc_check`がtrueに設定されている場合、削除ベクトルに対して厳格なCRC32チェックを実行し、不一致が検出された場合は失敗を返します。
- 導入バージョン: -

##### enable_transparent_data_encryption

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: 有効にすると、StarRocksは新しく書き込まれるストレージオブジェクト（セグメントファイル、削除/更新ファイル、ロウセットセグメント、Lake SST、永続インデックスファイルなど）に対して暗号化されたオンディスクアーティファクトを作成します。ライター（RowsetWriter/SegmentWriter、Lake UpdateManager/LakePersistentIndexおよび関連コードパス）は、KeyCacheから暗号化情報を要求し、`encryption_info`を書き込み可能ファイルに添付し、`encryption_meta`をロウセット/セグメント/SSTableメタデータ（`segment_encryption_metas`、削除/更新暗号化メタデータ）に永続化します。FrontendとBackend/CNの暗号化フラグは一致している必要があります。不一致があると、BEはハートビートで中止されます（LOG(FATAL)）。このフラグは実行時に変更可能ではありません。デプロイ前に有効にし、キー管理（KEK）とKeyCacheがクラスター全体で適切に構成され、同期されていることを確認してください。
- 導入バージョン: v3.3.1, 3.4.0, 3.5.0, 4.0.0

##### enable_zero_copy_from_page_cache

- デフォルト: true
- タイプ: boolean
- 単位: -
- 変更可能: はい
- 説明: 有効にすると、`FixedLengthColumnBase`は、ページキャッシュによってバックアップされたバッファから発生するデータを追加する際に、バイトコピーを回避できる場合があります。`append_numbers`では、すべての条件が満たされている場合、コードは受信`ContainerResource`を取得し、カラムの内部リソースポインタ（ゼロコピー）を設定します。条件とは、設定がtrueであること、受信リソースが所有されていること、リソースメモリがカラム要素タイプに合わせてアラインされていること、カラムが空であること、リソース長が要素サイズの倍数であることです。これを有効にすると、CPUとメモリコピーのオーバーヘッドが減少し、取り込み/スループットが向上する可能性があります。欠点としては、カラムのライフタイムが取得されたバッファと結合され、正しい所有権/アラインメントに依存します。安全なコピーを強制するには無効にしてください。
- 導入バージョン: -

##### file_descriptor_cache_clean_interval

- デフォルト: 3600
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: 一定期間使用されていないファイルディスクリプタをクリーンアップする時間間隔。
- 導入バージョン: -

##### ignore_broken_disk

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: 設定されたストレージパスが読み取り/書き込みチェックに失敗したり、解析に失敗したりした場合の起動動作を制御します。`false`（デフォルト）の場合、BEは`storage_root_path`または`spill_local_storage_dir`内の破損したエントリを致命的とみなし、起動を中止します。`true`の場合、StarRocksは`check_datapath_rw`に失敗した、または解析に失敗したストレージパスをスキップし（警告をログに記録して削除）、BEは残りの健全なパスで起動を続行できます。注：設定されたすべてのパスが削除された場合でも、BEは終了します。これを有効にすると、設定ミスやディスク障害を隠蔽し、無視されたパス上のデータが利用できなくなる可能性があります。ログとディスクの状態を適切に監視してください。
- 導入バージョン: v3.2.0

##### inc_rowset_expired_sec

- デフォルト: 1800
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: 受信データの有効期限。この設定項目は増分クローンで使用されます。
- 導入バージョン: -

##### load_process_max_memory_hard_limit_ratio

- デフォルト: 2
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: BEノード上のすべてのロードプロセスが占有できるメモリリソースのハードリミット（比率）。`enable_new_load_on_memory_limit_exceeded`が`false`に設定されており、すべてのロードプロセスのメモリ消費が`load_process_max_memory_limit_percent * load_process_max_memory_hard_limit_ratio`を超えると、新しいロードプロセスは拒否されます。
- 導入バージョン: v3.3.2

##### load_process_max_memory_limit_percent

- デフォルト: 30
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: BEノード上のすべてのロードプロセスが占有できるメモリリソースのソフトリミット（パーセンテージ）。
- 導入バージョン: -

##### lz4_acceleration

- デフォルト: 1
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 内蔵LZ4コンプレッサーで使用されるLZ4「アクセラレーション」パラメーターを制御します（`LZ4_compress_fast_continue`に渡されます）。値が高いほど圧縮速度を優先し、圧縮率を犠牲にします。値が低いほど（1）、より良い圧縮を生成しますが遅くなります。有効範囲：MIN=1、MAX=65537。この設定は`BlockCompression`内のすべてのLZ4ベースのコーデック（例：LZ4およびHadoop-LZ4）に影響し、圧縮の実行方法のみを変更します。LZ4形式や解凍互換性は変更しません。CPUバウンドまたは低レイテンシのワークロードで、より大きな出力が許容される場合は値を増やし（例：4、8、...）、ストレージまたはI/Oセンシティブなワークロードの場合は1のままにしてください。スループットとサイズのトレードオフはデータに大きく依存するため、変更する前に代表的なデータでテストしてください。
- 導入バージョン: v3.4.1, 3.5.0, 4.0.0

##### lz4_expected_compression_ratio

- デフォルト: 2.1
- タイプ: double
- 単位: 無次元 (圧縮率)
- 変更可能: はい
- 説明: シリアル化圧縮戦略が観察されたLZ4圧縮が「良い」かどうかを判断するために使用する閾値。`compress_strategy.cpp`では、この値は`lz4_expected_compression_speed_mbps`とともに報酬メトリクスを計算する際に観察された圧縮率を分割します。結合された報酬が`> 1.0`の場合、戦略は正のフィードバックを記録します。この値を増やすと、予想される圧縮率が高くなり（条件を満たすのが難しくなる）、値を下げると、観察された圧縮が満足できると見なされやすくなります。一般的なデータの圧縮率に合わせて調整してください。有効範囲：MIN=1、MAX=65537。
- 導入バージョン: v3.4.1, 3.5.0, 4.0.0

##### lz4_expected_compression_speed_mbps

- デフォルト: 600
- タイプ: double
- 単位: MB/s
- 変更可能: はい
- 説明: 適応圧縮ポリシー（CompressStrategy）で使用される、1秒あたりのメガバイト単位の予想LZ4圧縮スループット。フィードバックルーチンは`reward_ratio = (observed_compression_ratio / lz4_expected_compression_ratio) * (observed_speed / lz4_expected_compression_speed_mbps)`を計算します。`reward_ratio > 1.0`の場合、正のカウンター（alpha）が増加し、それ以外の場合は負のカウンター（beta）が増加します。これは将来のデータが圧縮されるかどうかに影響します。この値は、ハードウェア上の一般的なLZ4スループットを反映するように調整してください。値を上げると、ポリシーが実行を「良い」と分類するのを難しくし（より高い観察速度が必要）、値を下げると分類が容易になります。正の有限数である必要があります。
- 導入バージョン: v3.4.1, 3.5.0, 4.0.0

##### make_snapshot_worker_count

- デフォルト: 5
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: BEノードでのスナップショット作成タスクの最大スレッド数。
- 導入バージョン: -

##### manual_compaction_threads

- デフォルト: 4
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: 手動コンパクションのスレッド数。
- 導入バージョン: -

##### max_base_compaction_num_singleton_deltas

- デフォルト: 100
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 各ベースコンパクションで圧縮できるセグメントの最大数。
- 導入バージョン: -

##### max_compaction_candidate_num

- デフォルト: 40960
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: コンパクションの候補となるタブレットの最大数。値が大きすぎると、高いメモリ使用量と高いCPU負荷を引き起こします。
- 導入バージョン: -

##### max_compaction_concurrency

- デフォルト: -1
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: コンパクションの最大並行処理数（ベースコンパクションと累積コンパクションの両方を含む）。値`-1`は並行処理に制限がないことを示します。`0`はコンパクションを無効にすることを示します。このパラメーターは、イベントベースのコンパクションフレームワークが有効な場合に変更可能です。
- 導入バージョン: -

##### max_cumulative_compaction_num_singleton_deltas

- デフォルト: 1000
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 単一の累積コンパクションでマージできるセグメントの最大数。コンパクション中にOOMが発生する場合は、この値を減らすことができます。
- 導入バージョン: -

##### max_download_speed_kbps

- デフォルト: 50000
- タイプ: Int
- 単位: KB/秒
- 変更可能: はい
- 説明: 各HTTPリクエストの最大ダウンロード速度。この値はBEノード間のデータレプリカ同期のパフォーマンスに影響します。
- 導入バージョン: -

##### max_garbage_sweep_interval

- デフォルト: 3600
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: ストレージボリュームのガベージコレクションの最大時間間隔。この設定はv3.0以降動的に変更可能になりました。
- 導入バージョン: -

##### max_percentage_of_error_disk

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 対応するBEノードが終了する前に、ストレージボリュームで許容できるエラーの最大割合。
- 導入バージョン: -

##### max_queueing_memtable_per_tablet

- デフォルト: 2
- タイプ: Long
- 単位: カウント
- 変更可能: はい
- 説明: 書き込みパスでのタブレットごとのバックプレッシャを制御します。タブレットのキューイング中（まだフラッシュされていない）のMemTableの数が`max_queueing_memtable_per_tablet`に達するか超えると、`LocalTabletsChannel`と`LakeTabletsChannel`のライターは、さらに書き込み作業をサブミットする前にブロックされます（スリープ/再試行）。これにより、同時MemTableフラッシュの並行処理とピークメモリ使用量が減少し、重い負荷時のレイテンシ増加やRPCタイムアウトが発生するコストがかかります。より多くの同時MemTable（より多くのメモリとI/Oバースト）を許可するには高く設定し、メモリ負荷を制限し、書き込みスロットリングを増やすには低く設定します。
- 導入バージョン: v3.2.0

##### max_row_source_mask_memory_bytes

- デフォルト: 209715200
- タイプ: Int
- 単位: バイト
- 変更可能: いいえ
- 説明: 行ソースマスクバッファの最大メモリサイズ。バッファがこの値より大きい場合、データはディスク上の一時ファイルに永続化されます。この値は`compaction_memory_limit_per_worker`の値よりも小さく設定する必要があります。
- 導入バージョン: -

##### max_tablet_write_chunk_bytes

- デフォルト: 536870912
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: 現在のインメモリタブレット書き込みチャンクの最大許容メモリ（バイト単位）。この値を超えると、チャンクはフルと見なされ、送信キューに入れられます。この値を増やすと、ワイドテーブル（多くのカラム）をロードする際のRPCの頻度が減り、スループットが向上する可能性がありますが、メモリ使用量とRPCペイロードが大きくなります。RPCの削減とメモリおよびシリアル化/BRPC制限とのバランスを取るように調整してください。
- 導入バージョン: v3.2.12

##### max_update_compaction_num_singleton_deltas

- デフォルト: 1000
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: プライマリキーテーブルの単一のコンパクションでマージできるロウセットの最大数。
- 導入バージョン: -

##### memory_limitation_per_thread_for_schema_change

- デフォルト: 2
- タイプ: Int
- 単位: GB
- 変更可能: はい
- 説明: 各スキーマ変更タスクに許可される最大メモリサイズ。
- 導入バージョン: -

##### memory_ratio_for_sorting_schema_change

- デフォルト: 0.8
- タイプ: Double
- 単位: - (単位なしの比率)
- 変更可能: はい
- 説明: スキーマ変更ソート操作中のMemTable最大バッファサイズとして使用される、スレッドごとのスキーマ変更メモリ制限の割合。この比率は`memory_limitation_per_thread_for_schema_change`（GB単位で設定され、バイトに変換される）と乗算されて`max_buffer_size`を計算し、その結果は4GBで制限されます。`SchemaChangeWithSorting`と`SortedSchemaChange`がMemTable/DeltaWriterを作成する際に使用されます。この比率を増やすと、より大きなインメモリバッファ（フラッシュ/マージの減少）が可能になりますが、メモリ負荷のリスクが高まります。減らすと、より頻繁なフラッシュと高いI/O/マージオーバーヘッドが発生します。
- 導入バージョン: v3.2.0

##### min_base_compaction_num_singleton_deltas

- デフォルト: 5
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: ベースコンパクションをトリガーするセグメントの最小数。
- 導入バージョン: -

##### min_compaction_failure_interval_sec

- デフォルト: 120
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: 前回のコンパクション失敗からタブレットコンパクションをスケジュールできる最小時間間隔。
- 導入バージョン: -

##### min_cumulative_compaction_failure_interval_sec

- デフォルト: 30
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: 累積コンパクションが失敗した場合に再試行する最小時間間隔。
- 導入バージョン: -

##### min_cumulative_compaction_num_singleton_deltas

- デフォルト: 5
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 累積コンパクションをトリガーするセグメントの最小数。
- 導入バージョン: -

##### min_garbage_sweep_interval

- デフォルト: 180
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: ストレージボリュームのガベージコレクションの最小時間間隔。この設定はv3.0以降動的に変更可能になりました。
- 導入バージョン: -

##### parallel_clone_task_per_path

- デフォルト: 8
- タイプ: Int
- 単位: スレッド
- 変更可能: はい
- 説明: BE上のストレージパスごとに割り当てられる並列クローンワーカー・スレッドの数。BE起動時、クローンスレッドプールの最大スレッド数は`max(ストアパス数 * parallel_clone_task_per_path, MIN_CLONE_TASK_THREADS_IN_POOL)`として計算されます。例えば、4つのストレージパスとデフォルト=8の場合、クローンプールの最大値は32です。この設定は、BEによって処理されるCLONEタスク（タブレットレプリカコピー）の並行処理を直接制御します。これを増やすと並列クローンスループットが向上しますが、CPU、ディスク、ネットワークの競合も増加します。減らすと同時クローンタスクが制限され、FEでスケジュールされたクローン操作がスロットルされる可能性があります。この値は動的クローンスレッドプールに適用され、`update-config`パスを介して実行時に変更できます（agent_serverがクローンプールの最大スレッドを更新する原因となります）。
- 導入バージョン: v3.2.0

##### partial_update_memory_limit_per_worker

- デフォルト: 2147483648
- タイプ: long
- 単位: バイト
- 変更可能: はい
- 説明: 部分カラム更新を実行する際（コンパクション/ロウセット更新処理で使用）、単一のワーカーがソースチャンクの組み立てに使用できる最大メモリ（バイト単位）。リーダーは行ごとの更新メモリ（`total_update_row_size / num_rows_upt`）を見積もり、それを読み取られた行数で乗算します。その積がこの制限を超えると、現在のチャンクはフラッシュされ、追加のメモリ増加を避けるために処理されます。これを更新ワーカーあたりの利用可能なメモリに合わせて設定してください。低すぎるとI/O/処理オーバーヘッドが増加し（多くの小さなチャンク）、高すぎるとメモリ負荷やOOMのリスクがあります。行ごとの見積もりがゼロの場合（レガシーロウセット）、この設定はバイトベースの制限を課しません（`INT32_MAX`行数制限のみが適用されます）。
- 導入バージョン: v3.2.10

##### path_gc_check

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: 有効にすると、`StorageEngine`はデータディレクトリごとのバックグラウンドスレッドを開始し、定期的なパススキャンとガベージコレクションを実行します。起動時に`start_bg_threads()`は`_path_scan_thread_callback`（`DataDir::perform_path_scan`および`perform_tmp_path_scan`を呼び出す）と`_path_gc_thread_callback`（`DataDir::perform_path_gc_by_tablet`、`DataDir::perform_path_gc_by_rowsetid`、`DataDir::perform_delta_column_files_gc`、および`DataDir::perform_crm_gc`を呼び出す）を生成します。スキャンとGCの間隔は`path_scan_interval_second`と`path_gc_check_interval_second`によって制御されます。CRMファイルクリーンアップは`unused_crm_file_threshold_second`を使用します。これを無効にすると、パスレベルの自動クリーンアップが防止されます（その後、孤立ファイル/一時ファイルを手動で管理する必要があります）。このフラグを変更するには、プロセスの再起動が必要です。
- 導入バージョン: v3.2.0

##### path_gc_check_interval_second

- デフォルト: 86400
- タイプ: Int
- 単位: 秒
- 変更可能: いいえ
- 説明: ストレージエンジンのパスガベージコレクションバックグラウンドスレッドの実行間隔（秒単位）。各ウェイクで`DataDir`はタブレット、ロウセットID、デルタカラムファイルGC、およびCRM GCによってパスGCを実行します（CRM GC呼び出しは`unused_crm_file_threshold_second`を使用します）。非正の値に設定されている場合、コードは間隔を1800秒（30分）に強制し、警告を出力します。この値を調整して、オンディスクの一時ファイルまたはダウンロードされたファイルがスキャンおよび削除される頻度を制御します。
- 導入バージョン: v3.2.0

##### pending_data_expire_time_sec

- デフォルト: 1800
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: ストレージエンジン内の保留中データの有効期限。
- 導入バージョン: -

##### pindex_major_compaction_limit_per_disk

- デフォルト: 1
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: ディスクごとのコンパクションの最大並行処理数。これは、コンパクションによるディスク間のI/Oの不均一性の問題を解決します。この問題は、特定のディスクで過度に高いI/Oを引き起こす可能性があります。
- 導入バージョン: v3.0.9

##### pk_index_compaction_score_ratio

- デフォルト: 1.5
- タイプ: Double
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターのプライマリキーインデックスのコンパクションスコア比率。例えば、N個のファイルセットがある場合、コンパクションスコアは`N * pk_index_compaction_score_ratio`になります。
- 導入バージョン: -

##### pk_index_early_sst_compaction_threshold

- デフォルト: 5
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターのプライマリキーインデックスの早期SSTコンパクション閾値。
- 導入バージョン: -

##### pk_index_map_shard_size

- デフォルト: 4096
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: Lake UpdateManagerのプライマリキーインデックスシャードマップで使用されるシャード数。UpdateManagerはこのサイズの`PkIndexShard`のベクターを割り当て、タブレットIDをビットマスクを介してシャードにマッピングします。この値を増やすと、同じシャードを共有するであろうタブレット間のロック競合が減少しますが、ミューテックスオブジェクトの増加とわずかなメモリ使用量の増加を伴います。コードはビットマスクインデックスに依存するため、値は2の累乗でなければなりません。サイズ設定のガイダンスについては、`tablet_map_shard_size`ヒューリスティック:`total_num_of_tablets_in_BE / 512`を参照してください。
- 導入バージョン: v3.2.0

##### pk_index_memtable_flush_threadpool_max_threads

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターのプライマリキーインデックスMemTableフラッシュ用スレッドプールの最大スレッド数。`0`はCPUコア数の半分に自動設定されることを意味します。
- 導入バージョン: -

##### pk_index_memtable_flush_threadpool_size

- デフォルト: 1048576
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 共有データ（クラウドネイティブ/Lake）モードで使用されるプライマリキーインデックスMemTableフラッシュスレッドプールの最大キューサイズ（保留中のタスク数）を制御します。スレッドプールはExecEnvで"cloud_native_pk_index_flush"として作成され、その最大スレッド数は`pk_index_memtable_flush_threadpool_max_threads`によって管理されます。この値を増やすと、実行前にMemTableフラッシュタスクをより多くバッファリングでき、即時のバックプレッシャを軽減できますが、キューに入れられたタスクオブジェクトによって消費されるメモリが増加します。減らすと、バッファリングされるタスクが制限され、スレッドプールの動作に応じてより早期のバックプレッシャまたはタスク拒否が発生する可能性があります。利用可能なメモリと予想される同時フラッシュワークロードに応じて調整してください。
- 導入バージョン: -

##### pk_index_memtable_max_count

- デフォルト: 2
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターのプライマリキーインデックスのMemTableの最大数。
- 導入バージョン: -

##### pk_index_memtable_max_wait_flush_timeout_ms

- デフォルト: 30000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: 共有データクラスターでプライマリキーインデックスMemTableフラッシュの完了を待機する最大タイムアウト。すべてのMemTableを同期的にフラッシュする際（例えば、Ingest SST操作の前など）、システムはこのタイムアウトまで待機します。デフォルトは30秒です。
- 導入バージョン: -

##### pk_index_parallel_compaction_task_split_threshold_bytes

- デフォルト: 33554432
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: プライマリキーインデックスコンパクションタスクの分割閾値。タスクに関与するファイルの合計サイズがこの閾値より小さい場合、タスクは分割されません。
- 導入バージョン: -

##### pk_index_parallel_compaction_threadpool_max_threads

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターのクラウドネイティブプライマリキーインデックス並列コンパクション用スレッドプールの最大スレッド数。`0`はCPUコア数の半分に自動設定されることを意味します。
- 導入バージョン: -

##### pk_index_parallel_compaction_threadpool_size

- デフォルト: 1048576
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 共有データモードのクラウドネイティブプライマリキーインデックス並列コンパクションで使用されるスレッドプールの最大キューサイズ（保留中タスク数）。この設定は、スレッドプールが新しいサブミッションを拒否するまでにキューに入れられるコンパクションタスクの数を制御します。実効並列処理は`pk_index_parallel_compaction_threadpool_max_threads`によって制限されます。多くの同時コンパクションタスクが予想される場合に、タスク拒否を避けるためにこの値を増やしますが、キューが大きくなると、キューに入れられた作業のメモリとレイテンシが増加することに注意してください。
- 導入バージョン: -

##### pk_index_parallel_execution_min_rows

- デフォルト: 16384
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターのプライマリキーインデックス操作で並列実行を有効にする最小行数閾値。
- 導入バージョン: -

##### pk_index_parallel_execution_threadpool_max_threads

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターのプライマリキーインデックス並列実行用スレッドプールの最大スレッド数。`0`はCPUコア数の半分に自動設定されることを意味します。
- 導入バージョン: -

##### pk_index_size_tiered_level_multiplier

- デフォルト: 10
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: プライマリキーインデックスサイズ階層型コンパクション戦略のレベル乗数パラメーター。
- 導入バージョン: -

##### pk_index_size_tiered_max_level

- デフォルト: 5
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: プライマリキーインデックスサイズ階層型コンパクション戦略の最大レベル。
- 導入バージョン: -

##### pk_index_size_tiered_min_level_size

- デフォルト: 131072
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: プライマリキーインデックスサイズ階層型コンパクション戦略の最小レベル。
- 導入バージョン: -

##### pk_index_sstable_sample_interval_bytes

- デフォルト: 16777216
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: 共有データクラスター内のSSTableファイルのサンプリング間隔サイズ。SSTableファイルのサイズがこの閾値を超えると、システムはコンパクションタスクの境界パーティショニングを最適化するために、この間隔でSSTableからキーをサンプリングします。この閾値より小さいSSTableの場合、開始キーのみが境界キーとして使用されます。デフォルトは16 MBです。
- 導入バージョン: -

##### pk_index_target_file_size

- デフォルト: 67108864
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: 共有データクラスターのプライマリキーインデックスのターゲットファイルサイズ。
- 導入バージョン: -

##### pk_index_eager_build_threshold_bytes

- デフォルト: 104857600
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: `enable_pk_index_eager_build`がtrueに設定されている場合、インポートまたはコンパクション中に生成されたデータがこの閾値を超えた場合にのみ、システムは積極的にPKインデックスファイルを構築します。デフォルトは100MBです。
- 導入バージョン: -

##### primary_key_limit_size

- デフォルト: 128
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: プライマリキーテーブルのキーカラムの最大サイズ。
- 導入バージョン: v2.5

##### release_snapshot_worker_count

- デフォルト: 5
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: BEノードでのスナップショット解放タスクの最大スレッド数。
- 導入バージョン: -

##### repair_compaction_interval_seconds

- デフォルト: 600
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: リペアコンパクションスレッドのポーリング時間間隔。
- 導入バージョン: -

##### replication_max_speed_limit_kbps

- デフォルト: 50000
- タイプ: Int
- 単位: KB/s
- 変更可能: はい
- 説明: 各レプリケーションスレッドの最大速度。
- 導入バージョン: v3.3.5

##### replication_min_speed_limit_kbps

- デフォルト: 50
- タイプ: Int
- 単位: KB/s
- 変更可能: はい
- 説明: 各レプリケーションスレッドの最小速度。
- 導入バージョン: v3.3.5

##### replication_min_speed_time_seconds

- デフォルト: 300
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: レプリケーションスレッドが最小速度を下回っても許容される時間。実際の速度が`replication_min_speed_limit_kbps`を下回る時間がこの値を超えると、レプリケーションは失敗します。
- 導入バージョン: v3.3.5

##### replication_threads

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: レプリケーションに使用される最大スレッド数。`0`は、BEのCPUコア数の4倍のスレッド数に設定することを示します。
- 導入バージョン: v3.3.5

##### size_tiered_level_multiple

- デフォルト: 5
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: サイズ階層型コンパクションポリシーにおける2つの連続するレベル間のデータサイズの倍数。
- 導入バージョン: -

##### size_tiered_level_multiple_dupkey

- デフォルト: 10
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: サイズ階層型コンパクションポリシーにおいて、重複キーテーブルの2つの隣接するレベル間のデータ量差の倍数。
- 導入バージョン: -

##### size_tiered_level_num

- デフォルト: 7
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: サイズ階層型コンパクションポリシーのレベル数。各レベルに最大1つのロウセットが予約されます。したがって、安定した状態では、この設定項目で指定されたレベル数と同じ数のロウセットが最大で存在します。
- 導入バージョン: -

##### size_tiered_max_compaction_level

- デフォルト: 3
- タイプ: Int
- 単位: レベル
- 変更可能: はい
- 説明: 単一のプライマリキーリアルタイムコンパクションタスクにマージできるサイズ階層レベルの数を制限します。PKサイズ階層型コンパクション選択中、StarRocksはサイズ順にロウセットの「レベル」を構築し、この制限に達するまで連続するレベルを選択されたコンパクション入力に追加します（コードは`compaction_level <= size_tiered_max_compaction_level`を使用）。値は包括的であり、マージされた異なるサイズ層の数を数えます（最上位レベルは1とカウントされます）。PKサイズ階層型コンパクション戦略が有効な場合にのみ有効です。値を上げると、コンパクションタスクにより多くのレベルを含めることができ（より大きく、I/OとCPUを多く消費するマージ、潜在的に高い書き込み増幅）、減らすとマージを制限し、タスクサイズとリソース使用量を削減します。
- 導入バージョン: v4.0.0

##### size_tiered_min_level_size

- デフォルト: 131072
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: サイズ階層型コンパクションポリシーにおける最小レベルのデータサイズ。この値よりも小さいロウセットは、直ちにデータコンパクションをトリガーします。
- 導入バージョン: -

##### small_dictionary_page_size

- デフォルト: 4096
- タイプ: Int
- 単位: バイト
- 変更可能: いいえ
- 説明: `BinaryPlainPageDecoder`が辞書（バイナリ/プレーン）ページを積極的に解析するかどうかを決定するために使用する閾値（バイト単位）。ページのエンコードサイズが`small_dictionary_page_size`未満の場合、デコーダーはすべての文字列エントリをインメモリベクトル（`_parsed_datas`）に事前に解析し、ランダムアクセスとバッチ読み取りを高速化します。この値を上げると、より多くのページが事前解析されます（アクセスあたりのデコードオーバーヘッドを削減し、より大きな辞書で実効圧縮を向上させる可能性があります）が、メモリ使用量と解析に費やされるCPUが増加します。過度に大きな値は全体的なパフォーマンスを低下させる可能性があります。メモリとアクセスレイテンシのトレードオフを測定した後で調整してください。
- 導入バージョン: v3.4.1, v3.5.0

##### snapshot_expire_time_sec

- デフォルト: 172800
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: スナップショットファイルの有効期限。
- 導入バージョン: -

##### stale_memtable_flush_time_sec

- デフォルト: 0
- タイプ: long
- 単位: 秒
- 変更可能: はい
- 説明: 送信側ジョブのメモリ使用量が高い場合、`stale_memtable_flush_time_sec`秒以上更新されていないMemTableは、メモリ負荷を軽減するためにフラッシュされます。この動作は、メモリ制限が近づいている場合（`limit_exceeded_by_ratio(70)`以上）にのみ考慮されます。`LocalTabletsChannel`では、非常に高いメモリ使用量（`limit_exceeded_by_ratio(95)`）の場合に、サイズが`write_buffer_size / 4`を超えるMemTableがフラッシュされる追加のパスが存在する場合があります。`0`の値は、この期間ベースの古いMemTableのフラッシュを無効にします（不変パーティションのMemTableは、アイドル時または高メモリ時でも直ちにフラッシュされます）。
- 導入バージョン: v3.2.0

##### storage_flood_stage_left_capacity_bytes

- デフォルト: 107374182400
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: 全BEディレクトリの残りのストレージスペースのハードリミット。BEストレージディレクトリの残りのストレージスペースがこの値よりも小さく、かつストレージ使用率（パーセンテージ）が`storage_flood_stage_usage_percent`を超えた場合、LoadおよびRestoreジョブは拒否されます。この項目をFE設定項目`storage_usage_hard_limit_reserve_bytes`と一緒に設定することで、設定が有効になります。
- 導入バージョン: -

##### storage_flood_stage_usage_percent

- デフォルト: 95
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 全BEディレクトリのストレージ使用率（パーセンテージ）のハードリミット。BEストレージディレクトリのストレージ使用率（パーセンテージ）がこの値を超え、かつ残りのストレージスペースが`storage_flood_stage_left_capacity_bytes`よりも小さい場合、LoadおよびRestoreジョブは拒否されます。この項目をFE設定項目`storage_usage_hard_limit_percent`と一緒に設定することで、設定が有効になります。
- 導入バージョン: -

##### storage_high_usage_disk_protect_ratio

- デフォルト: 0.1
- タイプ: double
- 単位: -
- 変更可能: はい
- 説明: タブレット作成のためにストレージルートを選択する際、StorageEngineは候補ディスクを`disk_usage(0)`でソートし、平均使用量を計算します。使用量が（平均使用量 + `storage_high_usage_disk_protect_ratio`）より大きいディスクは、優先選択プールから除外されます（ランダムな優先シャッフルに参加せず、したがって初期選択から除外されます）。この保護を無効にするには0に設定します。値は小数です（一般的な範囲は0.0-1.0）。値が大きいほど、スケジューラは平均よりも高いディスクに対してより寛容になります。
- 導入バージョン: v3.2.0

##### storage_medium_migrate_count

- デフォルト: 3
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: ストレージメディアの移行（SATAからSSDへ）に使用されるスレッド数。
- 導入バージョン: -

##### storage_root_path

- デフォルト: `${STARROCKS_HOME}/storage`
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: ストレージボリュームのディレクトリとメディア。例: `/data1,medium:hdd;/data2,medium:ssd`。
  - 複数のボリュームはセミコロン（`;`）で区切られます。
  - ストレージメディアがSSDの場合は、ディレクトリの末尾に`,medium:ssd`を追加します。
  - ストレージメディアがHDDの場合は、ディレクトリの末尾に`,medium:hdd`を追加します。
- 導入バージョン: -

##### sync_tablet_meta

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: タブレットメタデータの同期を有効にするかどうかを制御するブール値。`true`は同期を有効にすることを示し、`false`は無効にすることを示します。
- 導入バージョン: -

##### tablet_map_shard_size

- デフォルト: 1024
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: タブレットマップのシャードサイズ。値は2の累乗でなければなりません。
- 導入バージョン: -

##### tablet_max_pending_versions

- デフォルト: 1000
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: プライマリキータブレットで許容できる保留中バージョンの最大数。保留中バージョンとは、コミットされたがまだ適用されていないバージョンを指します。
- 導入バージョン: -

##### tablet_max_versions

- デフォルト: 1000
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: タブレットで許可される最大バージョン数。バージョン数がこの値を超えると、新しい書き込みリクエストは失敗します。
- 導入バージョン: -

##### tablet_meta_checkpoint_min_interval_secs

- デフォルト: 600
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: TabletMetaチェックポイントのポーリングスレッドの時間間隔。
- 導入バージョン: -

##### tablet_meta_checkpoint_min_new_rowsets_num

- デフォルト: 10
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 前回のTabletMetaチェックポイント以降に作成するロウセットの最小数。
- 導入バージョン: -

##### tablet_rowset_stale_sweep_time_sec

- デフォルト: 1800
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: タブレット内の古いロウセットをスイープする時間間隔。
- 導入バージョン: -

##### tablet_stat_cache_update_interval_second

- デフォルト: 300
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: Tablet Stat Cacheが更新される時間間隔。
- 導入バージョン: -

##### tablet_writer_open_rpc_timeout_sec

- デフォルト: 300
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: リモートBEでタブレットライターを開くRPCのタイムアウト（秒単位）。値はミリ秒に変換され、オープン呼び出しを発行する際にリクエストタイムアウトとbrpc制御タイムアウトの両方に適用されます。ランタイムは、実効タイムアウトとして`tablet_writer_open_rpc_timeout_sec`と全体のロードタイムアウトの半分（つまり、`min(tablet_writer_open_rpc_timeout_sec, load_timeout_sec / 2)`）の最小値を使用します。これを、適時の障害検出（小さすぎると時期尚早なオープン失敗を引き起こす可能性があります）と、BEがライターを初期化するのに十分な時間を与える（大きすぎるとエラー処理が遅延する）とのバランスを取るように設定してください。
- 導入バージョン: v3.2.0

##### transaction_apply_worker_count

- デフォルト: 0
- タイプ: Int
- 単位: スレッド
- 変更可能: はい
- 説明: `UpdateManager`の"update_apply"スレッドプール（トランザクションのロウセットを適用するプール、特にプライマリキーテーブルの場合）が使用するワーカー・スレッドの最大数を制御します。`>0`の値は固定の最大スレッド数を設定し、0（デフォルト）はプールのサイズをCPUコア数に等しくします。設定された値は起動時（`UpdateManager::init`）に適用され、`update-config` HTTPアクションを介して実行時に変更できます（プールの最大スレッドが更新されます）。適用並行処理（スループット）を増やすか、CPU/メモリの競合を制限するためにこれを調整してください。最小スレッド数とアイドルタイムアウトは、それぞれ`transaction_apply_thread_pool_num_min`と`transaction_apply_worker_idle_time_ms`によって管理されます。
- 導入バージョン: v3.2.0

##### transaction_apply_worker_idle_time_ms

- デフォルト: 500
- タイプ: int
- 単位: ミリ秒
- 変更可能: いいえ
- 説明: トランザクション/更新の適用に使用される`UpdateManager`の"update_apply"スレッドプールのアイドルタイムアウト（ミリ秒単位）を設定します。この値は`MonoDelta::FromMilliseconds`を介して`ThreadPoolBuilder::set_idle_timeout`に渡されるため、このタイムアウトよりも長くアイドル状態のスレッドは終了される場合があります（プールの設定された最小スレッド数と最大スレッド数による）。値が低いほどリソースの解放が速くなりますが、バースト負荷下でのスレッド作成/破棄オーバーヘッドが増加します。値が高いほど、短時間のバーストに対してワーカーはアクティブな状態を維持しますが、ベースラインのリソース使用量が増加します。
- 導入バージョン: v3.2.11

##### trash_file_expire_time_sec

- デフォルト: 86400
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: ゴミファイルをクリーンアップする時間間隔。v2.5.17、v3.0.9、v3.1.6以降、デフォルト値は259,200から86,400に変更されました。
- 導入バージョン: -

##### unused_rowset_monitor_interval

- デフォルト: 30
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: 期限切れのロウセットをクリーンアップする時間間隔。
- 導入バージョン: -

##### update_cache_expire_sec

- デフォルト: 360
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: Update Cacheの有効期限。
- 導入バージョン: -

##### update_compaction_check_interval_seconds

- デフォルト: 10
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: プライマリキーテーブルのコンパクションをチェックする時間間隔。
- 導入バージョン: -

##### update_compaction_delvec_file_io_amp_ratio

- デフォルト: 2
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: プライマリキーテーブルのDelvecファイルを含むロウセットのコンパクション優先度を制御するために使用されます。値が大きいほど優先度が高くなります。
- 導入バージョン: -

##### update_compaction_num_threads_per_disk

- デフォルト: 1
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: プライマリキーテーブルのディスクごとのコンパクションスレッド数。
- 導入バージョン: -

##### update_compaction_per_tablet_min_interval_seconds

- デフォルト: 120
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: プライマリキーテーブルの各タブレットでコンパクションがトリガーされる最小時間間隔。
- 導入バージョン: -

##### update_compaction_ratio_threshold

- デフォルト: 0.5
- タイプ: Double
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスター内のプライマリキーテーブルのコンパクションがマージできるデータの最大割合。単一のタブレットが過度に大きくなる場合は、この値を縮小することを推奨します。
- 導入バージョン: v3.1.5

##### update_compaction_result_bytes

- デフォルト: 1073741824
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: プライマリキーテーブルの単一コンパクションの最大結果サイズ。
- 導入バージョン: -

##### update_compaction_size_threshold

- デフォルト: 268435456
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: プライマリキーテーブルのコンパクションスコアはファイルサイズに基づいて計算され、他のテーブルタイプとは異なります。このパラメーターを使用すると、プライマリキーテーブルのコンパクションスコアを他のテーブルタイプと同様にし、ユーザーが理解しやすくすることができます。
- 導入バージョン: -

##### upload_worker_count

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: BEノードでのバックアップジョブのアップロードタスクの最大スレッド数。`0`は、BEが稼働しているマシン上のCPUコア数に設定することを示します。
- 導入バージョン: -

##### vertical_compaction_max_columns_per_group

- デフォルト: 5
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: 垂直コンパクションのグループあたりの最大カラム数。
- 導入バージョン: -

### 共有データ

##### download_buffer_size

- デフォルト: 4194304
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: スナップショットファイルのダウンロード時に使用されるインメモリコピーバッファのサイズ（バイト単位）。`SnapshotLoader::download`は、リモートシーケンシャルファイルからローカル書き込み可能ファイルに読み込む際に、この値を`fs::copy`に転送ごとのチャンクサイズとして渡します。値が大きいほど、システムコール/I/Oオーバーヘッドを削減することで高帯域幅リンクのスループットが向上する可能性があります。値が小さいほど、アクティブな転送ごとのピークメモリ使用量が減少します。注：このパラメーターはストリームごとのバッファサイズを制御し、ダウンロードスレッド数は制御しません。総メモリ消費量 = `download_buffer_size * 同時ダウンロード数`。
- 導入バージョン: v3.2.13

##### graceful_exit_wait_for_frontend_heartbeat

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: グレースフル終了を完了する前に、SHUTDOWNステータスを示すフロントエンドハートビート応答を少なくとも1つ待機するかどうかを決定します。有効にすると、グレースフルシャットダウンプロセスは、ハートビートRPCを介してSHUTDOWN確認が応答されるまでアクティブなままになり、フロントエンドが2つの通常のハートビート間隔で終了状態を検出するのに十分な時間を確保します。
- 導入バージョン: v3.4.5

##### lake_compaction_stream_buffer_size_bytes

- デフォルト: 1048576
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: 共有データクラスター内のクラウドネイティブテーブルコンパクション用のリーダーのリモートI/Oバッファサイズ。デフォルト値は1MBです。この値を増やすことでコンパクションプロセスを高速化できます。
- 導入バージョン: v3.2.3

##### lake_pk_compaction_max_input_rowsets

- デフォルト: 500
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスター内のプライマリキーテーブルのコンパクションタスクで許可される入力ロウセットの最大数。このパラメーターのデフォルト値は、v3.2.4およびv3.1.10以降`5`から`1000`に、v3.3.1およびv3.2.9以降`500`に変更されました。プライマリキーテーブルのSized-tiered Compactionポリシーが有効（`enable_pk_size_tiered_compaction_strategy`を`true`に設定）になると、書き込み増幅を減らすために各コンパクションのロウセット数を制限する必要がなくなります。したがって、このパラメーターのデフォルト値は増加しています。
- 導入バージョン: v3.1.8, v3.2.3

##### loop_count_wait_fragments_finish

- デフォルト: 2
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: BE/CNプロセスが終了する際に待機するループの回数。各ループは10秒の固定間隔です。ループ待機を無効にするには`0`に設定できます。v3.4以降、この項目は変更可能になり、デフォルト値が`0`から`2`に変更されました。
- 導入バージョン: v2.5

##### max_client_cache_size_per_host

- デフォルト: 10
- タイプ: Int
- 単位: ホストあたりエントリ (キャッシュされたクライアントインスタンス)
- 変更可能: いいえ
- 説明: BE全体のクライアントキャッシュによって各リモートホストに対して保持されるキャッシュされたクライアントインスタンスの最大数。この単一の設定は、`ExecEnv`の初期化中に`BackendServiceClientCache`、`FrontendServiceClientCache`、`BrokerServiceClientCache`を作成する際に使用されるため、これらのキャッシュ全体でホストごとに保持されるクライアントスタブ/接続の数を制限します。この値を上げると、再接続とスタブ作成のオーバーヘッドが減少しますが、メモリとファイルディスクリプタの使用量が増加します。減らすとリソースが節約されますが、接続のチャーンが増加する可能性があります。値は起動時に読み取られ、実行時に変更することはできません。現在、1つの共有設定がすべてのクライアントキャッシュタイプを制御しています。後でキャッシュごとの個別の設定が導入される可能性があります。
- 導入バージョン: v3.2.0

##### starlet_filesystem_instance_cache_capacity

- デフォルト: 10000
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: Starletファイルシステムインスタンスのキャッシュ容量。
- 導入バージョン: v3.2.16, v3.3.11, v3.4.1

##### starlet_filesystem_instance_cache_ttl_sec

- デフォルト: 86400
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: Starletファイルシステムインスタンスのキャッシュ有効期限。
- 導入バージョン: v3.3.15, 3.4.5

##### starlet_port

- デフォルト: 9070
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: BEおよびCN用の追加エージェントサービスポート。
- 導入バージョン: -

##### starlet_star_cache_disk_size_percent

- デフォルト: 80
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: 共有データクラスターでData Cacheが最大で使用できるディスク容量の割合。
- 導入バージョン: v3.1

##### starlet_use_star_cache

- デフォルト: v3.1ではfalse、v3.2.3以降はtrue
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターでData Cacheを有効にするかどうか。`true`はこの機能を有効にすることを示し、`false`は無効にすることを示します。デフォルト値はv3.2.3以降`false`から`true`に変更されました。
- 導入バージョン: v3.1

##### starlet_write_file_with_tag

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターで、オブジェクトストレージに書き込まれるファイルにオブジェクトストレージタグを付けて、カスタムファイル管理を便利にするかどうか。
- 導入バージョン: v3.5.3

##### table_schema_service_max_retries

- デフォルト: 3
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: テーブルスキーマサービスリクエストの最大再試行回数。
- 導入バージョン: v4.1

### データレイク

##### datacache_block_buffer_enable

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: Data Cacheの効率を最適化するためにBlock Bufferを有効にするかどうか。Block Bufferが有効な場合、システムはData CacheからBlockデータを読み取り、一時バッファにキャッシュすることで、頻繁なキャッシュ読み取りによる余分なオーバーヘッドを削減します。
- 導入バージョン: v3.2.0

##### datacache_disk_adjust_interval_seconds

- デフォルト: 10
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: Data Cacheの自動容量スケーリングの間隔。定期的に、システムはキャッシュディスク使用量をチェックし、必要に応じて自動スケーリングをトリガーします。
- 導入バージョン: v3.3.0

##### datacache_disk_idle_seconds_for_expansion

- デフォルト: 7200
- タイプ: Int
- 単位: 秒
- 変更可能: はい
- 説明: Data Cacheの自動拡張の最小待機時間。ディスク使用率が`datacache_disk_low_level`をこの期間以上下回っている場合にのみ、自動スケールアップがトリガーされます。
- 導入バージョン: v3.3.0

##### datacache_disk_size

- デフォルト: 0
- タイプ: String
- 単位: -
- 変更可能: はい
- 説明: 単一ディスクにキャッシュできるデータの最大量。パーセンテージ（例：`80%`）または物理的な制限（例：`2T`、`500G`）として設定できます。たとえば、2つのディスクを使用し、`datacache_disk_size`パラメーターの値を`21474836480`（20 GB）に設定した場合、これらの2つのディスクに最大40 GBのデータをキャッシュできます。デフォルト値は`0`で、メモリのみを使用してデータをキャッシュすることを示します。
- 導入バージョン: -

##### datacache_enable

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: いいえ
- 説明: Data Cacheを有効にするかどうか。`true`はData Cacheが有効であることを示し、`false`はData Cacheが無効であることを示します。デフォルト値はv3.3以降`true`に変更されました。
- 導入バージョン: -

##### datacache_eviction_policy

- デフォルト: slru
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: Data Cacheの退去ポリシー。有効な値: `lru`（最小使用頻度）および`slru`（セグメント化LRU）。
- 導入バージョン: v3.4.0

##### datacache_inline_item_count_limit

- デフォルト: 130172
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: Data Cacheのインラインキャッシュアイテムの最大数。特に小さなキャッシュブロックの場合、Data Cacheはそれらを`inline`モードで格納し、ブロックデータとメタデータを一緒にメモリにキャッシュします。
- 導入バージョン: v3.4.0

##### datacache_mem_size

- デフォルト: 0
- タイプ: String
- 単位: -
- 変更可能: はい
- 説明: メモリにキャッシュできるデータの最大量。パーセンテージ（例：`10%`）または物理的な制限（例：`10G`、`21474836480`）として設定できます。
- 導入バージョン: -

##### datacache_min_disk_quota_for_adjustment

- デフォルト: 10737418240
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: Data Cache自動スケーリングの最小有効容量。システムがキャッシュ容量をこの値よりも少なく調整しようとすると、キャッシュ容量は直接`0`に設定され、キャッシュ容量不足による頻繁なキャッシュの満杯と退去に起因する最適でないパフォーマンスを防ぎます。
- 導入バージョン: v3.3.0

##### disk_high_level

- デフォルト: 90
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: キャッシュ容量の自動スケールアップをトリガーするディスク使用量の上限（パーセンテージ）。ディスク使用量がこの値を超えると、システムはData Cacheからキャッシュデータを自動的に退去させます。v3.4.0以降、デフォルト値は`80`から`90`に変更されました。この項目はv4.0以降`datacache_disk_high_level`から`disk_high_level`に名称変更されました。
- 導入バージョン: v3.3.0

##### disk_low_level

- デフォルト: 60
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: キャッシュ容量の自動スケールダウンをトリガーするディスク使用量の下限（パーセンテージ）。ディスク使用量がこの値を`datacache_disk_idle_seconds_for_expansion`で指定された期間以上下回っている間、Data Cacheに割り当てられたスペースが完全に利用されている場合、システムは上限を増やすことでキャッシュ容量を自動的に拡張します。この項目はv4.0以降`datacache_disk_low_level`から`disk_low_level`に名称変更されました。
- 導入バージョン: v3.3.0

##### disk_safe_level

- デフォルト: 80
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: Data Cacheのディスク使用量の安全レベル（パーセンテージ）。Data Cacheが自動スケーリングを実行する際、システムはディスク使用量がこの値にできるだけ近くなるようにキャッシュ容量を調整します。v3.4.0以降、デフォルト値は`70`から`80`に変更されました。この項目はv4.0以降`datacache_disk_safe_level`から`disk_safe_level`に名称変更されました。
- 導入バージョン: v3.3.0

##### enable_connector_sink_spill

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 外部テーブルへの書き込みでSpillingを有効にするかどうか。この機能を有効にすると、メモリ不足時に外部テーブルへの書き込みの結果として多数の小さなファイルが生成されるのを防ぐことができます。現在、この機能はIcebergテーブルへの書き込みのみをサポートしています。
- 導入バージョン: v4.0.0

##### enable_datacache_disk_auto_adjust

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: Data Cacheディスク容量の自動スケーリングを有効にするかどうか。有効にすると、システムは現在のディスク使用率に基づいてキャッシュ容量を動的に調整します。この項目はv4.0以降`datacache_auto_adjust_enable`から`enable_datacache_disk_auto_adjust`に名称変更されました。
- 導入バージョン: v3.3.0

##### jdbc_connection_idle_timeout_ms

- デフォルト: 600000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: いいえ
- 説明: JDBC接続プール内のアイドル接続が期限切れになるまでの時間。JDBC接続プール内の接続アイドル時間がこの値を超えると、接続プールは`jdbc_minimum_idle_connections`で指定された数を超えるアイドル接続を閉じます。
- 導入バージョン: -

##### jdbc_connection_pool_size

- デフォルト: 8
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: JDBC接続プールサイズ。各BEノードで、同じ`jdbc_url`で外部テーブルにアクセスするクエリは同じ接続プールを共有します。
- 導入バージョン: -

##### jdbc_minimum_idle_connections

- デフォルト: 1
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: JDBC接続プール内のアイドル接続の最小数。
- 導入バージョン: -

##### lake_clear_corrupted_cache_data

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターで、システムが破損したデータキャッシュをクリアすることを許可するかどうか。
- 導入バージョン: v3.4

##### lake_clear_corrupted_cache_meta

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターで、システムが破損したメタデータキャッシュをクリアすることを許可するかどうか。
- 導入バージョン: v3.3

##### lake_enable_vertical_compaction_fill_data_cache

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 共有データクラスターで、垂直コンパクションタスクがローカルディスクにデータをキャッシュすることを許可するかどうか。
- 導入バージョン: v3.1.7, v3.2.3

##### lake_replication_read_buffer_size

- デフォルト: 16777216
- タイプ: Long
- 単位: バイト
- 変更可能: はい
- 説明: Lakeレプリケーション中にLakeセグメントファイルをダウンロードする際に使用される読み取りバッファサイズ。この値はリモートファイルを読み取るための読み取りごとの割り当てを決定します。実装では、この設定と最小1MBの大きい方が使用されます。値が大きいほど、読み取り呼び出しの数が減り、スループットが向上する可能性がありますが、同時ダウンロードごとのメモリ使用量が増加します。値が小さいほどメモリ使用量が減少しますが、I/O呼び出しが増加するコストがかかります。ネットワーク帯域幅、ストレージI/O特性、および並列レプリケーションスレッド数に応じて調整してください。
- 導入バージョン: -

##### lake_service_max_concurrency

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: 共有データクラスターでのRPCリクエストの最大並行処理数。この閾値に達すると、受信リクエストは拒否されます。この項目が`0`に設定されている場合、並行処理に制限はありません。
- 導入バージョン: -

##### max_hdfs_scanner_num

- デフォルト: 50
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: `ConnectorScanNode`が持つことができる同時実行コネクタ（HDFS/リモート）スキャナの最大数を制限します。スキャン開始時に、ノードは推定並行処理（メモリ、チャンクサイズ、`scanner_row_num`に基づく）を計算し、この値でキャップして、予約するスキャナとチャンクの数、および開始するスレッドスキャナの数を決定します。また、ファイルハンドル制限を考慮して、実行時に保留中のスキャナをスケジュールする際や、再送信できる保留中のスキャナの数を決定する際にも参照されます。これを減らすと、スレッド数、メモリ、オープンファイルの負荷が減りますが、潜在的なスループットが低下します。増やすと、並行処理とリソース使用量が増加します。
- 導入バージョン: v3.2.0

##### query_max_memory_limit_percent

- デフォルト: 90
- タイプ: Int
- 単位: -
- 変更可能: いいえ
- 説明: Query Poolが使用できる最大メモリ。プロセスメモリ制限のパーセンテージとして表されます。
- 導入バージョン: v3.1.0

##### rocksdb_max_write_buffer_memory_bytes

- デフォルト: 1073741824
- タイプ: Int64
- 単位: -
- 変更可能: いいえ
- 説明: RocksDBのメタ用書き込みバッファの最大サイズです。デフォルトは1GBです。
- 導入バージョン: v3.5.0

##### rocksdb_write_buffer_memory_percent

- デフォルト: 5
- タイプ: Int64
- 単位: -
- 変更可能: いいえ
- 説明: RocksDBのメタ用書き込みバッファメモリの割合です。デフォルトはシステムメモリの5%です。ただし、これとは別に、書き込みバッファメモリの最終的な計算サイズは64MBを下回ることも1G（`rocksdb_max_write_buffer_memory_bytes`）を超えることもありません。
- 導入バージョン: v3.5.0

### その他

##### default_mv_resource_group_concurrency_limit

- デフォルト: 0
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: リソースグループ`default_mv_wg`内のマテリアライズドビューリフレッシュタスクの最大並行処理数（BEノードあたり）。デフォルト値`0`は制限がないことを示します。
- 導入バージョン: v3.1

##### default_mv_resource_group_cpu_limit

- デフォルト: 1
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: リソースグループ`default_mv_wg`内のマテリアライズドビューリフレッシュタスクが使用できる最大CPUコア数（BEノードあたり）。
- 導入バージョン: v3.1

##### default_mv_resource_group_memory_limit

- デフォルト: 0.8
- タイプ: Double
- 単位:
- 変更可能: はい
- 説明: リソースグループ`default_mv_wg`内のマテリアライズドビューリフレッシュタスクが使用できる最大メモリ割合（BEノードあたり）。デフォルト値はメモリの80%を示します。
- 導入バージョン: v3.1

##### default_mv_resource_group_spill_mem_limit_threshold

- デフォルト: 0.8
- タイプ: Double
- 単位: -
- 変更可能: はい
- 説明: リソースグループ`default_mv_wg`内のマテリアライズドビューリフレッシュタスクが中間結果のスピルをトリガーする前のメモリ使用量閾値。デフォルト値はメモリの80%を示します。
- 導入バージョン: v3.1

##### enable_resolve_hostname_to_ip_in_load_error_url

- デフォルト: false
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: `error_urls`のデバッグのため、オペレーターがFEハートビートからの元のホスト名を使用するか、環境のニーズに基づいてIPアドレスへの解決を強制するかを選択できるかどうか。
  - `true`: ホスト名をIPアドレスに解決します。
  - `false` (デフォルト): エラーURLに元のホスト名を保持します。
- 導入バージョン: v4.0.1

##### enable_retry_apply

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: 有効にすると、再試行可能に分類されたタブレット適用失敗（例えば、一時的なメモリ制限エラー）は、タブレットを直ちにエラーとマークするのではなく、再試行のために再スケジュールされます。`TabletUpdates`の再試行パスは、現在の失敗数で`retry_apply_interval_second`を乗算し、600秒の最大値にクランプして、次の試行をスケジュールします。したがって、バックオフは連続する失敗とともに増加します。明示的に再試行できないエラー（例えば破損）は再試行を迂回し、適用プロセスは直ちにエラー状態に入ります。再試行は、全体的なタイムアウト/最終条件に達するまで継続され、その後、適用はエラー状態に入ります。これをオフにすると、失敗した適用タスクの自動再スケジュールが無効になり、失敗した適用は再試行せずにエラー状態に移行します。
- 導入バージョン: v3.2.9

##### enable_token_check

- デフォルト: true
- タイプ: Boolean
- 単位: -
- 変更可能: はい
- 説明: トークンチェックを有効にするかどうかを制御するブール値。`true`はトークンチェックを有効にすることを示し、`false`は無効にすることを示します。
- 導入バージョン: -

##### es_scroll_keepalive

- デフォルト: 5m
- タイプ: String
- 単位: 分 (suffix付き文字列、例: "5m")
- 変更可能: いいえ
- 説明: スクロール検索コンテキストのためにElasticsearchに送信されるキープアライブ期間。この値は、初期スクロールURL（`?scroll=<value>`）の構築時および後続のスクロールリクエスト（`ESScrollQueryBuilder`経由）の送信時に（例えば"5m"のように）そのまま使用されます。これは、ES側でES検索コンテキストがガベージコレクションされるまでの時間を制御します。長く設定するとスクロールコンテキストはより長くアクティブな状態を保ちますが、ESクラスターのリソース使用量が増加します。この値は起動時にESスキャンリーダーによって読み取られ、実行時に変更することはできません。
- 導入バージョン: v3.2.0

##### load_replica_status_check_interval_ms_on_failure

- デフォルト: 2000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: セカンダリレプリカがプライマリレプリカのステータスをチェックする間隔。前回のチェックRPCが失敗した場合。
- 導入バージョン: v3.5.1

##### load_replica_status_check_interval_ms_on_success

- デフォルト: 15000
- タイプ: Int
- 単位: ミリ秒
- 変更可能: はい
- 説明: セカンダリレプリカがプライマリレプリカのステータスをチェックする間隔。前回のチェックRPCが成功した場合。
- 導入バージョン: v3.5.1

##### max_length_for_bitmap_function

- デフォルト: 1000000
- タイプ: Int
- 単位: バイト
- 変更可能: いいえ
- 説明: ビットマップ関数の入力値の最大長。
- 導入バージョン: -

##### max_length_for_to_base64

- デフォルト: 200000
- タイプ: Int
- 単位: バイト
- 変更可能: いいえ
- 説明: `to_base64()`関数の入力値の最大長。
- 導入バージョン: -

##### memory_high_level

- デフォルト: 75
- タイプ: Long
- 単位: パーセント
- 変更可能: はい
- 説明: プロセスメモリ制限のパーセンテージとして表される高水位メモリ閾値。総メモリ消費量がこのパーセンテージを超えると、BEはメモリ負荷を軽減するために徐々にメモリを解放し始めます（現在はデータキャッシュと更新キャッシュを退去させることによって）。モニターはこの値を使用して`memory_high = mem_limit * memory_high_level / 100`を計算し、消費量が`> memory_high`の場合、GCアドバイザによって導かれた制御された退去を実行します。消費量が`memory_urgent_level`（別の設定）を超えた場合、より積極的な即時削減が発生します。この値は、閾値を超えた場合に特定のメモリ集約型操作（例えばプライマリキーのプリロード）を無効にするためにも参照されます。`memory_urgent_level`との検証を満たす必要があります（`memory_urgent_level > memory_high_level`、`memory_high_level >= 1`、`memory_urgent_level <= 100`）。
- 導入バージョン: v3.2.0

##### report_exec_rpc_request_retry_num

- デフォルト: 10
- タイプ: Int
- 単位: -
- 変更可能: はい
- 説明: FEに実行RPCリクエストを報告するためのRPCリクエストの再試行回数。デフォルト値は10で、これはRPCリクエストがフラグメントインスタンス完了RPCの場合にのみ、失敗した場合に10回再試行されることを意味します。実行RPCリクエストの報告はロードジョブにとって重要であり、1つのフラグメントインスタンス完了報告が失敗すると、ロードジョブはタイムアウトまでハングアップします。
- 導入バージョン: -

##### sleep_one_second

- デフォルト: 1
- タイプ: Int
- 単位: 秒
- 変更可能: いいえ
- 説明: BEエージェントワーカー・スレッドが、マスターアドレス/ハートビートがまだ利用できない場合、または短い再試行/バックオフが必要な場合に、1秒間の一時停止として使用する小さなグローバルなスリープ間隔（秒単位）。コードベースでは、複数のレポートワーカープール（例：`ReportDiskStateTaskWorkerPool`、`ReportOlapTableTaskWorkerPool`、`ReportWorkgroupTaskWorkerPool`）によって参照され、再試行中のビジーウェイトを回避し、CPU消費を削減します。この値を増やすと、再試行頻度とマスター可用性への応答性が低下します。減らすと、ポーリングレートとCPU使用量が増加します。応答性とリソース使用量のトレードオフを意識して調整してください。
- 導入バージョン: v3.2.0

##### small_file_dir

- デフォルト: `${STARROCKS_HOME}/lib/small_file/`
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: ファイルマネージャーによってダウンロードされたファイルを格納するために使用されるディレクトリ。
- 導入バージョン: -

##### upload_buffer_size

- デフォルト: 4194304
- タイプ: Int
- 単位: バイト
- 変更可能: はい
- 説明: スナップショットファイルをリモートストレージ（ブローカーまたは直接FileSystem）にアップロードする際のファイルコピー操作で使用されるバッファサイズ（バイト単位）。アップロードパス（snapshot_loader.cpp）では、この値が各アップロードストリームの読み取り/書き込みチャンクサイズとして`fs::copy`に渡されます。デフォルトは4 MiBです。この値を増やすと、高レイテンシまたは高帯域幅リンクでのスループットが向上する可能性がありますが、同時アップロードごとのメモリ使用量が増加します。減らすと、ストリームごとのメモリ使用量は減少しますが、転送効率が低下する可能性があります。`upload_worker_count`および利用可能な総メモリと合わせて調整してください。
- 導入バージョン: v3.2.13

##### user_function_dir

- デフォルト: `${STARROCKS_HOME}/lib/udf`
- タイプ: String
- 単位: -
- 変更可能: いいえ
- 説明: ユーザー定義関数（UDF）を格納するために使用されるディレクトリ。
- 導入バージョン: -

##### web_log_bytes

- デフォルト: 1048576 (1 MB)
- タイプ: long
- 単位: バイト
- 変更可能: いいえ
- 説明: INFOログファイルから読み取り、BEデバッグウェブサーバーのログページに表示する最大バイト数。ハンドラーはこの値を使用してシークオフセットを計算し（最後のNバイトを表示）、非常に大きなログファイルを読み取ったり提供したりするのを避けます。ログファイルがこの値よりも小さい場合、ファイル全体が表示されます。注：現在の実装では、INFOログを読み取り提供するコードはコメントアウトされており、ハンドラーはINFOログファイルを開けなかったと報告するため、ログ提供コードが有効になっていない限り、このパラメーターは効果がない可能性があります。
- 導入バージョン: v3.2.0

### 削除されたパラメーター

##### enable_bit_unpack_simd

- ステータス: 削除済み
- 説明: このパラメーターは削除されました。Bit-unpack SIMDの選択は、コンパイル時に（AVX2/BMI2）自動的に行われ、デフォルトの実装にフォールバックします。
- 削除バージョン: -
